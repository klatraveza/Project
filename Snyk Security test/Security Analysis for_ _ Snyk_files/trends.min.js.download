var $Trd_Base64=function(){function t(){}return t.encode=function(t){return t&&t.length?btoa(t):t},t.decode=function(t){return t&&t.length?atob(t):t},t}(),$Trd_i18n=function(){function t(t){this.context=t}return t.prototype.get=function(t){return t?(t=t.toLocaleUpperCase(),this.context.userTranslates[t]?this.context.userTranslates[t]:t):t},t}(),__awaiter=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function d(t){try{s(i.next(t))}catch(t){r(t)}}function a(t){try{s(i.throw(t))}catch(t){r(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(d,a)}s((i=i.apply(t,e||[])).next())}))},__generator=this&&this.__generator||function(t,e){var n,i,o,r,d={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;d;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return d.label++,{value:r[1],done:!1};case 5:d.label++,i=r[1],r=[0];continue;case 7:r=d.ops.pop(),d.trys.pop();continue;default:if(!(o=d.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){d=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){d.label=r[1];break}if(6===r[0]&&d.label<o[1]){d.label=o[1],o=r;break}if(o&&d.label<o[2]){d.label=o[2],d.ops.push(r);break}o[2]&&d.ops.pop(),d.trys.pop();continue}r=e.call(t,d)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},$Trd_Utils=function(){function t(){}return t.objectToQueryString=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&null!==t[n]&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},t.unix_nowtime=function(){return Math.round((new Date).valueOf()/1e3)},t.from_unixtime=function(t){return new Date(1e3*t).valueOf()},t.is_dif_hour=function(e,n){return t.unix_nowtime()-e>60*n*60},t.getscrollTop=function(){return t.isScrolledToShow(window.pageYOffset?window.pageYOffset:0,document.documentElement?document.documentElement.scrollTop:0,document.body?document.body.scrollTop:0)},t.isScrolledToShow=function(t,e,n){var i=t||0;return e&&(!i||i>e)&&(i=e),n&&(!i||i>n)?n:i},t.IsScrollbarAtBottom=function(e){var n=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),i=Math.max(document.documentElement.scrollTop,document.body&&document.body.scrollTop,0),o=Math.max(document.documentElement.clientHeight,window.innerHeight)+i;if(document.doctype)return n*e<o;return document.getElementsByTagName("body")[0].style.height="900px",900*e<t.getscrollTop()},t.getScrollPercent=function(){var t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),e=Math.max(document.documentElement.scrollTop,document.body&&document.body.scrollTop,0),n=Math.max(document.documentElement.clientHeight,window.innerHeight)+e;return Math.round(100*n/t)},t.parseURL=function(t){var e=document.createElement("a");e.href=t;var n={source:t,protocol:e.protocol.replace(":",""),host:e.hostname,port:e.port,query:e.search,params:function(){for(var t,n={},i=e.search.replace(/^\?/,"").split("&"),o=i.length,r=0;r<o;r++)i[r]&&(n[(t=i[r].split("="))[0]]=t[1]);return n}(),file:(e.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:e.hash.replace("#",""),path:e.pathname.replace(/^([^\/])/,"/$1"),relative:(e.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:e.pathname.replace(/^\//,"").split("/")};return e=void 0,n},t.parseYouTubeUrl=function(t){var e,n={videoId:void 0,startTime:0},i=new URL(t);return i.hostname.includes("youtube.com")?n.videoId=i.searchParams.get("v")||(null===(e=i.pathname)||void 0===e?void 0:e.split("/embed/")[1]):"youtu.be"===i.hostname&&(n.videoId=i.pathname.substring(1)),n.videoId&&i.searchParams.has("t")&&(n.startTime=Number(i.searchParams.get("t"))),n},t.compareDomains=function(e,n){var i=t.parseURL(n),o=t.parseURL(e);return i.host.replace("www.","")===o.host.replace("www.","")},t.CheckVisibleContainer=function(t){if(t){var e=window.getComputedStyle(t);return"0"!==e.width&&"0"!==e.height&&"0"!==e.opacity&&"none"!==e.display&&"hidden"!==e.visibility&&t.offsetHeight+t.offsetWidth+t.getBoundingClientRect().height+t.getBoundingClientRect().width>0}return!1},t.loadCss=function(t,e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){return[2,new Promise((function(n,i){if(!document.getElementById(e)){var o=document.createElement("link");o.type="text/css",o.rel="stylesheet",o.onload=function(){n(!0)},o.onerror=function(){i(!1)},o.href=t,o.id=e;var r=document.querySelector("script");r.parentNode.insertBefore(o,r)}n(!0)}))]}))}))},t.loadJs=function(t,e){return new Promise((function(n,i){if(!document.getElementById(e)){var o=document.createElement("script");o.type="text/javascript",o.onload=function(){n(!0)},o.onerror=function(){i(!1)},o.src=t,o.id=e;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(o,r)}}))},t.downloadFile=function(e,n){var i=t.parseURL(e),o=i.segments[i.segments.length-1],r=(null==n?void 0:n.length)?n+"?url="+encodeURIComponent(e):e,d=new XMLHttpRequest;d.open("GET",r,!0),d.responseType="blob",d.onload=function(){var t=new Blob([d.response],{}),e=window.URL.createObjectURL(t),n=document.createElement("a");n.style.display="none",n.setAttribute("href",e),n.setAttribute("download",o),document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(e),document.body.removeChild(n)},d.send()},t.getVisibilityTypeId=function(t){switch(t){case"embedded":return UnitVisibiltyType.Embedded;case"full":return UnitVisibiltyType.Full;case"light":return UnitVisibiltyType.Light;case"fixed":return UnitVisibiltyType.Float;case"slider":return UnitVisibiltyType.Sliding;default:return UnitVisibiltyType.None}},t.getUnitTypeId=function(t){switch(t){case"recommend":return UnitTypeId.Content;case"form":return UnitTypeId.Form;case"script":return UnitTypeId.Script;case"hub":return UnitTypeId.Hub;case"survey":return UnitTypeId.Survey;case"fastext":return UnitTypeId.FastText;default:return UnitTypeId.Text}},t.showPreviewErrorMessage=function(t){var e=document.createElement("div");e.appendChild(document.createTextNode(t)),e.style.cssText="color: red; border: 1px solid red; background:white; position: fixed; bottom:10px; left:50%; padding:10px 50px; transform: translate(-50%, 0);",document.body.append(e)},t.sendToGoogleAnalytics=function(t,e,n){switch("undefined"!=typeof ga?"ga":"undefined"!=typeof gtag?"gtag":"undefined"){case"ga":var i=void 0!==ga.getAll?ga.getAll()[0]:void 0;i?i.send("event",t,e,(null==n?void 0:n.PageUrl)||"","0",{nonInteraction:"load"===e?1:0}):ga("send","event",t,e,(null==n?void 0:n.PageUrl)||"","0",{nonInteraction:"load"===e?1:0});break;case"gtag":gtag("event",e,{event_category:t,non_interaction:"load"===e})}},t.trim=function(t){return t&&t.length?t.replace(/^\s+|\s+$/gm,""):""},t.log=function(){if("undefined"!=typeof console&&void 0!==console.info)try{console.info.apply(console,arguments)}catch(e){var t=Function.prototype.bind.call(console.info,console);t.apply(console,arguments)}},t.isValidEmail=function(e){return!!e&&(!((e=t.trim(e)).length<2)&&(!!e.match(/\S+@\S+\.\S+/)&&(-1===e.indexOf(" ")&&-1===e.indexOf(".."))))},t.validationEmail=function(e){return t.isValidEmail(e)},t.findDomain=function(){var t="",e=location.host;-1===e.indexOf("www.")&&(e="www."+e);var n=e.split("."),i=n.length;if(2===i)return t="."+e;for(var o=i-(2===n[i-2].length||3===n[i-2].length?3:2);o<i;o++)t+="."+n[o];return t},t.arr2params=function(t){var e=[];for(var n in t)for(var i in t[n])e.push(i+"="+encodeURIComponent(t[n][i]));return e.join("&")},t.generateUniqueId=function(){return(new Date).valueOf()+Math.random().toFixed(4).substring(2)},t.isUrl=function(t){return void 0!==t&&(0!==t.length&&(0!==t.indexOf("#")&&0!==t.indexOf("javascript:")))},t.url={encode:function(e){return escape(t.url._utf8_encode(e))},decode:function(e){return t.url._utf8_decode(decodeURIComponent(e))},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},_utf8_decode:function(t){for(var e="",n=0,i=0,o=0,r=0;n<t.length;)(i=t.charCodeAt(n))<128?(e+=String.fromCharCode(i),n++):i>191&&i<224?(o=t.charCodeAt(n+1),e+=String.fromCharCode((31&i)<<6|63&o),n+=2):(o=t.charCodeAt(n+1),r=t.charCodeAt(n+2),e+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&r),n+=3);return e}},t.isEmptyObject=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},t}(),$Trd_Tools=function(){function t(){}return t.get_urlparams=function(t){var e=t?t.split("?")[1]:window.location.search.slice(1),n={};if(e)for(var i=(e=e.split("#")[0]).split("&"),o=function(t){var e=i[t].split("="),o=void 0,r=e[0].replace(/\[\d*\]/,(function(t){return o=t.slice(1,-1),""}));if(void 0!==e[1]&&""!==e[1]){var d=e[1];r=["__proto__","constructor","prototype"].includes(r.toLowerCase())?r.toUpperCase():r.toLowerCase(),d=decodeURIComponent(d),n[r]?("string"==typeof n[r]&&(n[r]=[n[r]]),void 0===o?n[r].push(d):n[r][o]=d):n[r]=d}},r=0;r<i.length;r++)o(r);return n},t.JSONP=function(e,n,i,o){e=e||"",n=n||function(){};var r=i||"jsonp"+Math.round(1000001*Math.random());window[r]=function(e){n(e);var i=t.getBrowser();if(window[r]&&void 0!==i.name&&"IE"!==i.name){window[r]=void 0;try{delete window[r]}catch(t){}}},-1===e.indexOf("?")?e+="?":e+="&";var d=document.createElement("script");d.src=e+"callback="+r+"&vid="+t.getVid(),d.type="text/javascript",d.className="cross",d.async=!0,d.onerror=function(t){o&&o(t)},document.getElementsByTagName("head")[0].appendChild(d)},t.getVid=function(){return window.trd_api.context.visitorId||""},t.tryDecodeUri=function(t){try{return decodeURIComponent(t)}catch(e){return t}},t.getBrowser=function(){var t,e=navigator.userAgent,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"IE",version:(t=/\brv[ :]+(\d+)/g.exec(e)||[])[1]||""}:"Chrome"===n[1]&&(t=e.match(/\b(OPR|Edge)\/(\d+)/))?{name:t[1].replace("OPR","Opera"),version:t[2]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),{name:n[0],version:n[1]})},t.checkMobile=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},t.isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPod/i)},iOS_ipad:function(){return navigator.userAgent.match(/iPad/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.isMobile.Android()||t.isMobile.BlackBerry()||t.isMobile.iOS()||t.isMobile.iOS_ipad()||t.isMobile.Opera()||t.isMobile.Windows()},is_mobile:function(){return t.isMobile.any()?1:0},getOs:function(){return t.isMobile.Android()?"android":t.isMobile.iOS()||t.isMobile.iOS_ipad()?"ios":"desktop"}},t.ajax=function(t,e,n,i){var o=!1!==i,r=new XMLHttpRequest;r.onload=function(t){var e=t.target,i="";"json"!==e.responseType&&("("===(i=e.responseText)[0]&&(i=i.substring(1,i.length)),")"===i[i.length-1]&&(i=i.substring(0,i.length-1)),i=JSON.parse(i),n(i))};var d=e;o&&(d+=(-1===e.indexOf("?")?"?":"&")+(new Date).getTime());r.open(t,d,!0),r.send()},t.pixel=function(e,n,i){var o=document.getElementsByTagName("BODY")[0],r=-1===e.indexOf("?")?"?":"&",d=""+e+r+"vid="+t.getVid()+"&r="+(new Date).getTime(),a=document.createElement("img");a.className="trdpix",a.onerror=function(){},a.onload=function(){o.removeChild(a),i&&i()},a.src=d,a.height=1,a.width=1,a.style.cssText="display:none !important; visibility:hidden !important;width:1px;height:1px;",o.appendChild(a)},t.cookie={decodeCookie:function(){for(var e=document.cookie.split(";"),n={},i=0;i<e.length;i++){var o=e[i],r=o.indexOf("="),d=$Trd_Utils.trim(t.tryDecodeUri(o.slice(0,r))),a=t.tryDecodeUri(o.slice(r+1));n[d]=a}return n},findCookieByName:function(e){var n=t.cookie.decodeCookie();for(var i in n){var o=n[i];if(0===i.indexOf(e))return o}},get:function(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0},set:function(t,e,n){var i=(n=n||{}).expires;if("number"==typeof i&&i){var o=new Date;o.setTime(o.getTime()+1e3*i),i=n.expires=o}i&&i.toUTCString&&(n.expires=i.toUTCString());var r=t+"="+(e=encodeURIComponent(e));for(var d in n){r+="; "+d;var a=n[d];!0!==a&&(r+="="+a)}document.cookie=r},erase:function(t,e){document.cookie=t+"=; domain="+e+"; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"},getCookieByName:function(t){var e="string"==typeof document.cookie?document.cookie:"";if((e=$Trd_Utils.trim(e))&&e.length>0)for(var n=e.split("; "),i="",o="",r=0;r<n.length;r++){var d=n[r].split("=");if(i=$Trd_Utils.trim(d[0]),o=$Trd_Utils.trim(d[1]),i.indexOf("hash")<0&&0===i.indexOf(t))return{name:i,value:o}}return{name:"",value:""}},getCookieByExactName:function(t){var e="string"==typeof document.cookie?document.cookie:"";if((e=$Trd_Utils.trim(e))&&e.length>0)for(var n=e.split("; "),i="",o="",r=0;r<n.length;r++){var d=n[r].split("=");if(i=$Trd_Utils.trim(d[0]),o=$Trd_Utils.trim(d[1]),i===t)return{name:i,value:o}}return{name:"",value:""}}},t.encode=function(t){return String(t).replace(/[,;"\\=\s%]/g,(function(t){return encodeURIComponent(t)}))},t.decode=function(t){return decodeURIComponent(t)},t.isArray=function(t){return"[object HTMLCollection]"==={}.toString.call(t)||"[object NodeList]"==={}.toString.call(t)||"[object Array]"==={}.toString.call(t)},t.toArray=function(t){var e,n;for(n=[],e=t.length;e--;n[e]=t[e]);return n},t.dom={addHandler:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!0):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},removeHandler:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null},add_event:function(e,n,i){var o=i||!1;if("window"===e)return t.dom.addHandler(window,n,o),!0;if("document"===e)return t.dom.addHandler(document,n,o),!0;if(e=t.dom.getElement(e))if(t.isArray(e)){e=t.toArray(e);for(var r=0;r<e.length;r++)t.dom.addHandler(e[r],n,o)}else t.dom.addHandler(e,n,o);return e},remove_event:function(e,n,i){var o=i||{};if("window"===e)return t.dom.removeHandler(window,n,o),!0;if("document"===e)return t.dom.removeHandler(document,n,o),!0;if(e=t.dom.getElement(e))if(t.isArray(e)){e=t.toArray(e);for(var r=0;r<e.length;r++)t.dom.removeHandler(e[r],n,o)}else t.dom.removeHandler(e,n,o)},getElement:function(t){return 0===t.indexOf("#")&&!1===t.indexOf(" ")&&!1===t.indexOf(".")?document.getElementById(t):document.querySelectorAll(t)}},t.addCssIntoHead=function(t,e){var n=document.createElement("style");n.type="text/css",n.id=e,t=(t=(t=(t=t.replace('<style type="text/css">',"")).replace("</style>","")).replace(/(?:\r\n|\r|\n)/g,"")).replace(/  +/g," "),n.innerText=t,document.getElementsByTagName("head")[0].appendChild(n)},t}(),$Trd_Logger=function(){function t(t){this.context=t}return t.prototype.log=function(t){console.info(t);var e=$Trd_Base64.encode(t.stack),n={accountId:this.context.accountId,cookie:this.context.cid.value,img:1,type:"log",url:$Trd_Base64.encode(this.context.pageDetails.url),log:e},i=this.context.environment.trafficEventsEndpoint+"?"+$Trd_Utils.objectToQueryString(n);$Trd_Tools.pixel(i,"trd_log")},t.prototype.logparam=function(t){this.context.pageDetails.urlParams&&"true"===this.context.pageDetails.urlParams.trd_log&&console.info(t)},t}(),RecordsService=function(){function t(t,e,n){void 0===n&&(n=100),this.context=t,this.recordsKeyName=e,this.maxRecords=n,this.expires=36e6,this.records=this.read(),$Trd_Tools.cookie.findCookieByName(this.recordsKeyName)&&($Trd_Tools.cookie.erase(this.recordsKeyName,this.context.pageDetails.cook_domain),this.set())}return t.prototype.getTimeSeconds=function(){return Math.round((new Date).getTime()/1e3)},t.prototype.read=function(){var t=window.localStorage.getItem(this.recordsKeyName)||$Trd_Tools.cookie.findCookieByName(this.recordsKeyName);return t&&"null"!==t&&t.length?JSON.parse(t):[]},t.prototype.set=function(){var t=JSON.stringify(this.records);return window.localStorage.setItem(this.recordsKeyName,t),!0},t.prototype.getRecord=function(t){return this.records.find(t)},t.prototype.add=function(t){this.records.length>this.maxRecords&&this.records.shift(),this.records.push(t),this.set()},t}(),__extends=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$Trd_UserPageHistory_Cook=function(t){function e(e,n){var i=t.call(this,e,"trd_userpagehistory",50)||this;return i.context=e,i.logger=n,i}return __extends(e,t),e.prototype.addHistory=function(t){var e=this;return t.forEach((function(t){if(t.PageId){var n=e.getRecord((function(e){return Number(e.id)===Number(t.PageId)}));n?n.ls=e.getTimeSeconds():e.add({id:t.PageId,ls:e.getTimeSeconds()})}})),this.set(),!0},e}(RecordsService),enRenderModes,$Trd_InternalEventsTypes,$Trd_TriggersEventsTypes;function mapBackendTriggers(t){return t&&t.length>0?t.map((function(t){switch(t){case"short_timeout":return $Trd_TriggersEventsTypes.EV_SHORT_TIMEOUT_FROM_PAGE_LOAD_EXPIRED;case"long_timeout":return $Trd_TriggersEventsTypes.EV_LONG_TIMEOUT_FROM_PAGE_LOAD_EXPIRED;case"scroll":return $Trd_TriggersEventsTypes.EV_PAGE_SCROLL;case"container_shown":return $Trd_TriggersEventsTypes.EV_CONTAINER_SHOWN;case"force_show":return $Trd_TriggersEventsTypes.EV_CTA_FORCE_SHOW;case"exit_intent":return $Trd_TriggersEventsTypes.EV_EXIT_INTENT;case"trd_page_read":return $Trd_TriggersEventsTypes.EV_PAGE_READ;case"trd_first_interaction":return $Trd_TriggersEventsTypes.EV_FIRST_INTERACTION;case"trd_units_ready":return $Trd_TriggersEventsTypes.EV_TRD_UNITS_READY;case"thirty_timeout":return $Trd_TriggersEventsTypes.EV_TIMEOUT_THIRTY_FROM_PAGE_LOAD_EXPIRED;case"sixty_timeout":return $Trd_TriggersEventsTypes.EV_TIMEOUT_SIXTY_PAGE_LOAD_EXPIRED;default:return t}})):[]}!function(t){t[t.SHOW=0]="SHOW",t[t.DONT_SHOW=1]="DONT_SHOW"}(enRenderModes||(enRenderModes={})),function(t){t.CTA_INITIALIZED="cta_initialized",t.CTA_SHOWN="cta_shown",t.CTA_CLOSE="cta_close",t.CTA_COMPLETE="cta_complete",t.CTA_NOT_EXPOSED="cta_not_exposed",t.CTA_TRIGGER_USED="trd_unit_trigger_used"}($Trd_InternalEventsTypes||($Trd_InternalEventsTypes={})),function(t){t.EV_TRD_READY="trd_ready",t.EV_TRD_UNITS_READY="trd_units_ready",t.EV_PAGE_READ="trd_page_read",t.EV_PAGE_SCROLL="trd_page_scroll",t.EV_EXIT_INTENT="trd_exit_intent",t.EV_FIRST_INTERACTION="trd_first_interaction",t.EV_SHORT_TIMEOUT_FROM_PAGE_LOAD_EXPIRED="trd_short_timeout",t.EV_LONG_TIMEOUT_FROM_PAGE_LOAD_EXPIRED="trd_long_timeout",t.EV_CONTAINER_SHOWN="trd_container_shown",t.EV_CTA_FORCE_SHOW="trd_cta_force_show",t.EV_TIMEOUT_THIRTY_FROM_PAGE_LOAD_EXPIRED="trd_thirty_timeout",t.EV_TIMEOUT_SIXTY_PAGE_LOAD_EXPIRED="trd_sixty_timeout"}($Trd_TriggersEventsTypes||($Trd_TriggersEventsTypes={}));var $Trd_Context=function(){},$Trd_EnvironmentSettings=function(){function t(){}return Object.defineProperty(t.prototype,"trafficEventsEndpoint",{get:function(){return this.trafficServiceUrl+this.trafficEventPath},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trafficSetMaEndpoint",{get:function(){return this.trafficServiceUrl+this.trafficSetMaPath},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cdnPathEndpoint",{get:function(){return this.cdnPath},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cdnCssEndpoint",{get:function(){return this.cdnPath+this.loadCssPath},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cdnTemplateEndpoint",{get:function(){return this.cdnPath+this.loadTemplatePath},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trafficPersonalEndpoint",{get:function(){return this.trafficServiceUrl+this.loadPersonalPath},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStage",{get:function(){return this.cdnPath.includes("stage")||this.cdnPath.includes("localhost")},enumerable:!1,configurable:!0}),t}(),$Trd_ClientCookie=function(){this.name="trd_cid",this.expires=31536e3},$Trd_CtaClientCookie=function(){this.name="trd_exitintentclient",this.expires=31536e3},$Trd_ButtonSelector=function(){},Frequency,UnitVisibiltyType,UnitTypeId,AceVariantElementReplaceType;!function(t){t[t.EveryPage=0]="EveryPage",t[t.EverySession=1]="EverySession",t[t.Never=3]="Never"}(Frequency||(Frequency={})),function(t){t[t.Embedded=0]="Embedded",t[t.Full=1]="Full",t[t.Light=2]="Light",t[t.Float=3]="Float",t[t.Sliding=4]="Sliding",t[t.None=100]="None"}(UnitVisibiltyType||(UnitVisibiltyType={})),function(t){t[t.Text=0]="Text",t[t.Content=1]="Content",t[t.Form=2]="Form",t[t.Script=3]="Script",t[t.Hub=4]="Hub",t[t.Survey=5]="Survey",t[t.FastText=6]="FastText"}(UnitTypeId||(UnitTypeId={})),function(t){t[t.Text=1]="Text",t[t.Image=2]="Image",t[t.Link=3]="Link"}(AceVariantElementReplaceType||(AceVariantElementReplaceType={}));var LOCAL_STORAGE_ITEM_NAME="trd-elist",$Trd_FormListener=function(t,e,n){this.context=t,this.logger=e,this.visitor=n;var i=Array.from(document.querySelectorAll('input[type="email"]')),o=window.localStorage.getItem(LOCAL_STORAGE_ITEM_NAME);if(o){var r=atob(o);this.visitor.setEmail(r)}var d=this;i.forEach((function(t){t.addEventListener("change",(function(t){try{var e=t.target.value;$Trd_Utils.isValidEmail(e)&&d.visitor.setEmail(e)}catch(t){}}))}))},COOKIE_NAMES={VISITOR_UID:"trd_vuid_l",VISITOR_ID:"trd_vid_l"},$Trd_Visitor=function(){function t(t,e){this.context=t,this.logger=e}return t.prototype.setEmail=function(t,e){void 0===e&&(e=this.context);var n={AccountId:e.accountId,Email:t,Cookie:e.cid.value};window.localStorage.setItem("trd-elist",btoa(t));var i=e.environment.trafficServiceUrl+"/api/MarketingAutomation/set-email?"+$Trd_Utils.objectToQueryString(n),o=this;$Trd_Tools.JSONP(i,(function(t){try{window.localStorage.removeItem("trd-elist"),o.setTracker({vid:t.VisitorInternalId,vuid:t.VisitorUid},o.context)}catch(t){}}))},t.prototype.getTracker=function(){var t=$Trd_Tools.cookie.findCookieByName(COOKIE_NAMES.VISITOR_ID)||(window.localStorage?window.localStorage.getItem(COOKIE_NAMES.VISITOR_ID):void 0),e=$Trd_Tools.cookie.findCookieByName(COOKIE_NAMES.VISITOR_UID)||(window.localStorage?window.localStorage.getItem(COOKIE_NAMES.VISITOR_UID):void 0);return t&&e?{vid:t,vuid:e}:void 0},t.prototype.setTracker=function(t,e){window.localStorage&&(window.localStorage.setItem(COOKIE_NAMES.VISITOR_ID,t.vid),window.localStorage.setItem(COOKIE_NAMES.VISITOR_UID,t.vuid)),$Trd_Tools.cookie.set(COOKIE_NAMES.VISITOR_ID,t.vid,{expires:this.context.cid.expires,path:"/",domain:e.pageDetails.cook_domain}),$Trd_Tools.cookie.set(COOKIE_NAMES.VISITOR_UID,t.vuid,{expires:e.cid.expires,path:"/",domain:e.pageDetails.cook_domain}),e.visitorId=t.vid},t}(),$Trd_UrlGrabber=function(){function t(t,e,n,i){this.context=t,this.logger=e,this.cookieManager=n,this.visitor=i,this.emailParamsNames=["mail","utm_emaddress"],this.context.accountSettings.trackUrl&&this.init()}return t.prototype.init=function(){var t=this,e=function(e){n.emailParamsNames.forEach((function(n){if(e.indexOf(n)>=0){var i=t.context.pageDetails.urlParams[e];i&&i.length&&$Trd_Utils.isValidEmail(i)&&t.visitor.setEmail(i)}}))},n=this;for(var i in this.context.pageDetails.urlParams)e(i)},t}(),$Trd_Events=function(){function t(t,e){this.context=t,this.logger=e,this.TIMEOUT_READ=25e3,this.TIMEOUT_READ_SCROLL=13e3,this.isScroll=!1,this.readSent=!1,this.isReadMinScrollReached=!1,this.isReadMinScrollTimeout=!1}return t.prototype.init=function(){this.registerPageReadTimers(),this.registerButtons()},t.prototype.initSpa=function(){this.unregisterPageReadTimers(),this.registerPageReadTimers()},t.prototype.replayGoals=function(){var t=this,e=window.$TRD_goals;e&&e.length&&e.forEach((function(e){t.notifyGoal(e)})),delete window.$TRD_goals},t.prototype.handleUnsubmittedLeadForm=function(){var t;if(localStorage.getItem("trd_lead_frm")){var e=JSON.parse(atob(localStorage.getItem("trd_lead_frm"))),n={AccountId:this.context.accountId,CtaId:e.id,trd_cid:this.context.cid.value,ClientUrl:e.url,uuid:(null===(t=this.context.uuid)||void 0===t?void 0:t.value)||(new Date).getTime(),FormDataStr:JSON.stringify(e.formFields)};this.context.maCookie&&this.context.maCookie.length&&(n.maCook=btoa(this.context.maCookie));var i=this.context.environment.trafficServiceUrl+"/api/experience/new-lead?"+$Trd_Utils.objectToQueryString(n);$Trd_Tools.JSONP(i,(function(t){localStorage.removeItem("trd_lead_frm")}))}},t.prototype.notifyGoal=function(t){var e=Object.assign({accountId:this.context.accountId,cookie:this.context.cid.value,url:$Trd_Base64.encode(this.context.pageDetails.url)},t),n=this.context.environment.trafficEventsEndpoint+"/goal?"+$Trd_Utils.objectToQueryString(e);$Trd_Tools.pixel(n,"goal"+t.goalId)},t.prototype.notifyPageRead=function(){if(!this.readSent){var t={accountId:this.context.accountId,cookie:this.context.cid.value,url:$Trd_Base64.encode(this.context.pageDetails.url)};this.readSent=!0;var e=this.context.environment.trafficEventsEndpoint+"/pageread?"+$Trd_Utils.objectToQueryString(t);$Trd_Tools.pixel(e,"pageread"),document.dispatchEvent(new Event($Trd_TriggersEventsTypes.EV_PAGE_READ)),this.afterScrollTimer&&clearTimeout(this.afterScrollTimer),this.simpleTimer&&clearTimeout(this.simpleTimer)}},t.prototype.registerPageReadTimers=function(){var t=this,e=this.context.accountSettings.readMinScroll;e?($Trd_Tools.dom.addHandler(window,"scroll",(function(){100*window.scrollY/(document.body.offsetHeight-window.innerHeight)>=e&&(t.isReadMinScrollReached=!0,!t.readSent&&t.isReadMinScrollTimeout&&t.notifyPageRead())})),this.afterScrollTimer=setTimeout((function(){t.isReadMinScrollTimeout=!0,!t.readSent&&t.isReadMinScrollReached&&t.notifyPageRead()}),this.context.readTimeoutAfterScroll||this.TIMEOUT_READ_SCROLL)):($Trd_Tools.dom.addHandler(window,"scroll",(function(){t.isScroll&&(t.afterScrollTimer&&clearTimeout(t.afterScrollTimer),t.afterScrollTimer=setTimeout((function(){t.notifyPageRead()}),t.context.readTimeoutAfterScroll||t.TIMEOUT_READ_SCROLL),t.isScroll=!1),t.isScroll=!0})),this.simpleTimer=setTimeout((function(){t.notifyPageRead()}),this.context.readTimeout||this.TIMEOUT_READ))},t.prototype.unregisterPageReadTimers=function(){this.readSent=!1,this.isScroll=!1,this.isReadMinScrollReached=!1,this.isReadMinScrollTimeout=!1,this.afterScrollTimer&&(clearTimeout(this.afterScrollTimer),this.afterScrollTimer=void 0),this.simpleTimer&&(clearTimeout(this.simpleTimer),this.simpleTimer=null)},t.prototype.registerButtons=function(){var t=this;$Trd_Tools.dom.addHandler(document,"click",(function(e){t.addEventListener(e,t)}))},t.prototype.addEventListener=function(t,e){for(var n=e.context.accountSettings.buttonSelectors,i=0;i<n.length;i++)try{var o=!1;try{o=t.target.closest(n[i].button_selector)}catch(e){o=t.target}var r=document.querySelectorAll(n[i].button_selector);if(r.length)for(var d=0;d<r.length;d++)o===r[d]&&n[i]&&n[i].id&&e.goalElementClickHandler(t,t.srcElement,n[i].id)}catch(t){}},t.prototype.goalElementClickHandler=function(t,e,n){var i="A"===e.tagName,o=e.getAttribute("href"),r="_blank"===e.getAttribute("target"),d=!0;o&&(d=$Trd_Utils.isUrl(o));var a=i&&d&&!r;a&&t.preventDefault();var s={accountId:this.context.accountId,cookie:this.context.cid.value,url:$Trd_Base64.encode(this.context.pageDetails.url),goalId:n},c=this.context.environment.trafficEventsEndpoint+"/goal?"+$Trd_Utils.objectToQueryString(s);if($Trd_Tools.pixel(c,"goal"),setTimeout((function(){a&&o&&(location.href=o)}),500),i&&d&&!r)return!1},t}(),$Trd_Pageview=function(){function t(t,e){this.context=t,this.logger=e}return t.prototype.notifyPageView=function(){var t={accountId:this.context.accountId,url:$Trd_Base64.encode(this.context.pageDetails.url),cookie:this.context.cid.value,referral:this.context.pageDetails.reffer?$Trd_Base64.encode(this.context.pageDetails.reffer):"",variant:this.context.variant?this.context.variant:""},e="";if(this.context.accountSettings.trackGaVisitors){var n=$Trd_Tools.cookie.getCookieByExactName("_ga");n.value&&(e="&gavid="+n.value.split(".").slice(-2).join("."))}var i=this.context.environment.trafficEventsEndpoint+"/pageview?"+$Trd_Utils.objectToQueryString(t)+e;$Trd_Tools.pixel(i,"pageview")},t}(),$Trd_Newvisitor=function(){function t(t,e){this.context=t,this.logger=e,this.cookname="trd_first_visit",this.firstvisittime=void 0,this.expires=31536e3,this.init()}return t.prototype.init=function(){var t=$Trd_Tools.cookie.findCookieByName(this.cookname);if(void 0===t){var e=$Trd_Utils.unix_nowtime();$Trd_Tools.cookie.set(this.cookname,e,{expires:this.expires,path:"/",domain:this.context.pageDetails.cook_domain}),this.firstvisittime=e}else this.firstvisittime=Number(t);return!0},t.prototype.gettime=function(){return this.firstvisittime},t}(),$Trd_Cookmanager=function(){function t(t,e){this.context=t,this.logger=e,this.pwcook={name:"trd_pw",value:1,expires:31536e3},this.pwscook={name:"trd_pws",value:1,expires:1800},this.sessionCidcook={name:"trd_sid",value:0,expires:1800},this.referralcook={name:"trd_referral",value:"",expires:31536e3},this.utmsourcecook={name:"trd_utmsource",value:"",expires:31536e3},this.utmcampaigncook={name:"trd_utmcampaign",value:"",expires:31536e3},this.customcook={name:"",value:"",expires:31536e3},this.maCookie={name:"trd_ma_cookie",value:"",expires:31536e3},this.init()}return t.prototype.init=function(){var t=$Trd_Tools.cookie.findCookieByName(this.pwcook.name);void 0===t||0===t.length?this.pwcook.value=1:this.pwcook.value=parseInt(t)+1,$Trd_Tools.cookie.set(this.pwcook.name,this.pwcook.value,{expires:this.pwcook.expires,path:"/",domain:this.context.pageDetails.cook_domain});var e=$Trd_Tools.cookie.findCookieByName(this.pwscook.name);void 0===e||0===e.length?this.pwscook.value=1:this.pwscook.value=parseInt(e)+1,$Trd_Tools.cookie.set(this.pwscook.name,this.pwscook.value,{expires:this.pwscook.expires,path:"/",domain:this.context.pageDetails.cook_domain});var n=$Trd_Tools.cookie.findCookieByName(this.sessionCidcook.name);void 0===n||0===n.length?this.sessionCidcook.value=$Trd_Utils.generateUniqueId():this.sessionCidcook.value=n,$Trd_Tools.cookie.set(this.sessionCidcook.name,this.sessionCidcook.value,{expires:this.sessionCidcook.expires,path:"/",domain:this.context.pageDetails.cook_domain}),this.updateSessionCook(),this.initSourceCook(),this.initCustomCook()},t.prototype.updateSessionCook=function(){var t=this;setInterval((function(){$Trd_Tools.cookie.set(t.sessionCidcook.name,t.sessionCidcook.value,{expires:t.sessionCidcook.expires,path:"/",domain:t.context.pageDetails.cook_domain}),$Trd_Tools.cookie.set(t.pwscook.name,t.pwscook.value,{expires:t.pwscook.expires,path:"/",domain:t.context.pageDetails.cook_domain})}),6e4)},t.prototype.issetRefferinDomains=function(t){for(var e=!1,n="",i=0;i<this.context.accountSettings.userDomains.length;i++)n=this.context.accountSettings.userDomains[i],t.indexOf(n)>=0&&!e&&(e=!0);return e},t.prototype.initSourceCook=function(){this.context.pageDetails.reffer&&this.context.pageDetails.reffer.length&&!this.issetRefferinDomains(this.context.pageDetails.reffer)&&(this.referralcook.value=this.context.pageDetails.reffer,$Trd_Tools.cookie.set(this.referralcook.name,this.referralcook.value,{expires:this.referralcook.expires,path:"/",domain:this.context.pageDetails.cook_domain}));var t=this.getUtmSource();return"trendemon"!==t&&(this.context.pageDetails.urlParams.utm_campaign&&this.context.pageDetails.urlParams.utm_campaign.length&&(this.utmcampaigncook.value=this.context.pageDetails.urlParams.utm_campaign,$Trd_Tools.cookie.set(this.utmcampaigncook.name,this.utmcampaigncook.value,{expires:this.utmcampaigncook.expires,path:"/",domain:this.context.pageDetails.cook_domain})),t.length&&(this.utmsourcecook.value=t,$Trd_Tools.cookie.set(this.utmsourcecook.name,this.utmsourcecook.value,{expires:this.utmsourcecook.expires,path:"/",domain:this.context.pageDetails.cook_domain}))),!0},t.prototype.getUtmSource=function(){var t="";return this.context.pageDetails.urlParams.utm_source&&this.context.pageDetails.urlParams.utm_source.length&&(t=this.context.pageDetails.urlParams.utm_source),t},t.prototype.initCustomCook=function(){return this.context.accountSettings.customCookName&&(this.customcook.name=this.context.accountSettings.customCookName,this.context.pageDetails.urlParams[this.context.accountSettings.customCookName]&&$Trd_Tools.cookie.set(this.context.accountSettings.customCookName,this.context.pageDetails.urlParams[this.context.accountSettings.customCookName],{expires:parseInt(this.context.accountSettings.customCookLifetime),path:"/",domain:this.context.pageDetails.cook_domain})),!0},t}(),$TRD_MA_COOKIE_NAME="trd_ma_cookie",$TRD_MA_COOKIE_NAME_MAP={hubspot:"hubspotutk",marketo:"_mkto_trk",pardot:"visitor_id",acton:"wp",salesforce:"salesforce_id"},$Trd_MarketingAutomation=function(){function t(t,e,n){this.context=t,this.logger=e,this.visitor=n,this.cookDomain=t.pageDetails.cook_domain,this.savedCookie=$Trd_Tools.cookie.getCookieByName($TRD_MA_COOKIE_NAME),this.maCookieValue="",this.savedCookie.value&&"undefined"!==this.savedCookie.value&&(this.maCookieValue=this.savedCookie.value,this.context.maCookie=this.maCookieValue,this.savedCookie.value=$Trd_Base64.decode($Trd_Utils.url.decode(this.savedCookie.value))),this.init()}return t.prototype.init=function(){this.context.accountSettings.ma_system?this.send_tracking({tracking_ma_name:this.context.accountSettings.ma_system}):$Trd_Tools.cookie.erase($TRD_MA_COOKIE_NAME,this.cookDomain)},t.prototype.send_tracking=function(t){var e=this;if(t.tracking_ma_name){var n=$TRD_MA_COOKIE_NAME_MAP[t.tracking_ma_name],i=$Trd_Tools.cookie.getCookieByName(n);if(this.logger.logparam("cook name:"+n+" / cook value:"+i.value+" / saved cook: "+this.savedCookie.value+"/ equal "+(this.savedCookie.value===i.value)),n&&i.value&&(this.maCookieValue=$Trd_Utils.url.decode(i.value),this.context.maCookie=this.maCookieValue,i.value!==this.savedCookie.value)){i.value=$Trd_Utils.trim(i.value),i.value=i.value.replace(/(^")|("$)/gm,""),i.value=$Trd_Base64.encode(i.value),this.logger.logparam("cook value4send: "+i.value);var o={AccountId:this.context.accountId,ClientUrl:$Trd_Base64.encode(this.context.pageDetails.url),CookieId:this.context.cid.value,MaCookie:i.value,MaCookieName:$Trd_Base64.encode(i.name),MaName:t.tracking_ma_name};this.logger.logparam("cook value4savecook: "+i.value);var r=this;$Trd_Tools.JSONP(this.context.environment.trafficSetMaEndpoint+"?"+$Trd_Utils.objectToQueryString(o),(function(t){try{t&&(t.VisitorInternalId&&r.visitor.setTracker({vid:t.VisitorInternalId,vuid:t.VisitorUid},r.context),$Trd_Tools.cookie.set($TRD_MA_COOKIE_NAME,i.value,{expires:43200,path:"/",domain:e.cookDomain}))}catch(t){e.logger.log(t)}}))}}},t}(),$TRD_CtaComponent=function(){function $TRD_CtaComponent(t,e,n,i){this.cta=t,this.ctaParams=e,this.context=n,this.renderingContext=i,this.SCROLL_DEPTH_DEFAULT=50,this.isShowNotified=!1,this._isVisible=!1,this.registeredTriggers=[],this.isContainerShownTriggerActivated=!1}return Object.defineProperty($TRD_CtaComponent.prototype,"id",{get:function(){return this.cta.Id},enumerable:!1,configurable:!0}),Object.defineProperty($TRD_CtaComponent.prototype,"isVisible",{get:function(){return this._isVisible},enumerable:!1,configurable:!0}),Object.defineProperty($TRD_CtaComponent.prototype,"containerElement",{get:function(){return this._containerElement},enumerable:!1,configurable:!0}),Object.defineProperty($TRD_CtaComponent.prototype,"isAutoEmbed",{get:function(){var t;return null===(t=this._containerElement)||void 0===t?void 0:t.classList.contains("trd-auto-embed")},enumerable:!1,configurable:!0}),Object.defineProperty($TRD_CtaComponent.prototype,"visibilityType",{get:function(){return this.cta.VisibiltyTypeId},enumerable:!1,configurable:!0}),$TRD_CtaComponent.prototype.hide=function(){},$TRD_CtaComponent.prototype.clear=function(){},$TRD_CtaComponent.prototype.notify=function(t){this.isOffer&&t===$Trd_InternalEventsTypes.CTA_CLOSE&&this.setOfferPopupTimestamp(),document.dispatchEvent(new CustomEvent(t,{detail:this.getCtaEventData()}))},$TRD_CtaComponent.prototype.unitClosed=function(){this._isVisible=!1},$TRD_CtaComponent.prototype.getCtaEventData=function(){return{cta:this.cta,ctaParams:this.ctaParams,ctaEventPrefix:this.getEventPrefix(),container:this._containerElement}},$TRD_CtaComponent.prototype.showComponent=function(t){return __awaiter(this,void 0,void 0,(function(){var e,n;return __generator(this,(function(i){switch(i.label){case 0:return n=!0,this.cta.RenderMode!==enRenderModes.SHOW?[3,3]:(e=$Trd_InternalEventsTypes.CTA_SHOWN,this.isVisible?[3,2]:[4,this.show()]);case 1:n=i.sent(),this._isVisible=!0,i.label=2;case 2:return[3,4];case 3:e=$Trd_InternalEventsTypes.CTA_NOT_EXPOSED,i.label=4;case 4:return n&&t&&document.dispatchEvent(new CustomEvent($Trd_InternalEventsTypes.CTA_TRIGGER_USED,{detail:{unit:this.cta,trigger:null==t?void 0:t.type}})),!this.isShowNotified&&n&&(this.notify(e),this.isShowNotified=!0),[2]}}))}))},$TRD_CtaComponent.prototype.initializeComponent=function(t,e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){switch(n.label){case 0:return this._containerElement=t,this.ctaIdentity=t.getAttribute("data-trd-tag"),this.initialize(t),!e||0===e.length||this.renderingContext&&this.cta.CtaType===String(UnitTypeId.Hub)?[4,this.showComponent()]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.registerTriggers(e)];case 3:n.sent(),n.label=4;case 4:return this.notify($Trd_InternalEventsTypes.CTA_INITIALIZED),[2]}}))}))},$TRD_CtaComponent.prototype.registerTriggers=function(t){return __awaiter(this,void 0,void 0,(function(){var e,n,i,o=this;return __generator(this,(function(r){switch(r.label){case 0:e=0,r.label=1;case 1:return e<t.length?(n=t[e])!==$Trd_TriggersEventsTypes.EV_CONTAINER_SHOWN?[3,3]:[4,this.registerContainerShownTrigger()]:[3,5];case 2:return r.sent(),[3,4];case 3:i=function(t){return __awaiter(o,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this.triggerHandler(t)];case 1:return[2,e.sent()]}}))}))},document.addEventListener(n,i),this.registeredTriggers.push({trigger:n,listener:i}),r.label=4;case 4:return e++,[3,1];case 5:return[2]}}))}))},$TRD_CtaComponent.prototype.triggerHandler=function(t){return __awaiter(this,void 0,void 0,(function(){var e,n;return __generator(this,(function(i){switch(i.label){case 0:if(t.type===$Trd_TriggersEventsTypes.EV_PAGE_SCROLL&&(e=this.ctaParams.scroll_depth||this.SCROLL_DEPTH_DEFAULT,t.detail.scroll_percentage<e))return this.hide(),[2];if(t.type===$Trd_TriggersEventsTypes.EV_CTA_FORCE_SHOW){if(t.detail&&t.detail.ctaIdentity&&t.detail.ctaIdentity!==this.ctaIdentity)return[2];if(t.detail&&!t.detail.ctaIdentity&&!this.isContainerVisible())return[2]}if(this.renderingContext){if(n=document.querySelectorAll(".trd-initial-open:not(.embedded):not(#trd_cta_"+this.cta.ViewModelId+")"),this.cta.VisibiltyTypeId!==UnitVisibiltyType.Embedded){if(this.renderingContext.triggersContext.has(t.type)||this.renderingContext.visibiltyTypesContext.has(this.cta.VisibiltyTypeId))return[2];if(n.length>0&&!this.isExitIntent(t.type))return[2];if(this.isTimePassed(this.renderingContext.lastPopupTimestamp,5e3))return[2];if(this.isTimePassed(this.renderingContext.lastClosedTimestamp,1e4)&&!this.isExitIntent(t.type))return[2];if(this.isOffer&&!this.isExitIntent(t.type)&&this.isTimePassed(this.renderingContext.lastOfferPopupTimestamp,1e3*this.context.environment.offersShowGapSec))return[2]}if(this.cta.VisibiltyTypeId===UnitVisibiltyType.Embedded&&(!this.isContainerVisible()||null===this.containerElement.offsetParent))return[2];this.cta.VisibiltyTypeId!==UnitVisibiltyType.Embedded&&(this.renderingContext.triggersContext.add(t.type),this.renderingContext.visibiltyTypesContext.add(this.cta.VisibiltyTypeId),this.renderingContext.lastPopupTimestamp=(new Date).getTime(),this.isOffer&&this.setOfferPopupTimestamp())}return[4,this.showComponent(t)];case 1:return i.sent(),[2]}}))}))},$TRD_CtaComponent.prototype.registerContainerShownTrigger=function(){return __awaiter(this,void 0,void 0,(function(){var t,e=this;return __generator(this,(function(n){return t=function(){return __awaiter(e,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return this.isContainerShownTriggerActivated||!this.isContainerVisible()||null===this.containerElement.offsetParent?[3,2]:(this.isContainerShownTriggerActivated=!0,[4,this.showComponent()]);case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},document.addEventListener($Trd_TriggersEventsTypes.EV_PAGE_SCROLL,t),this.registeredTriggers.push({trigger:$Trd_TriggersEventsTypes.EV_PAGE_SCROLL,listener:t}),[2]}))}))},$TRD_CtaComponent.prototype.setOfferPopupTimestamp=function(){this.renderingContext.lastOfferPopupTimestamp=(new Date).getTime(),window.localStorage.setItem("trd_offerPopupTime",this.renderingContext.lastOfferPopupTimestamp.toString())},$TRD_CtaComponent.prototype.isContainerVisible=function(){var t=+window.getComputedStyle(document.body).zoom||1,e=this.containerElement.getBoundingClientRect(),n=e.top*t<window.innerHeight&&e.bottom*t>=0,i=e.left*t>=0&&e.right*t<=window.innerWidth+1;return n&&i},$TRD_CtaComponent.prototype.isExitIntent=function(t){return!$Trd_Tools.isMobile.is_mobile()&&"trd_exit_intent"===t},$TRD_CtaComponent.prototype.isTimePassed=function(t,e){return(new Date).getTime()-t<e},Object.defineProperty($TRD_CtaComponent.prototype,"isOffer",{get:function(){return!!this.cta.OrchestrationId},enumerable:!1,configurable:!0}),$TRD_CtaComponent.prototype.clearComponent=function(){this.registeredTriggers.forEach((function(t){document.removeEventListener(t.trigger,t.listener)})),this.registeredTriggers=[],this.clear()},$TRD_CtaComponent.prototype.runUserActionScript=function(){var useActionScript=this.ctaParams.exitintent_use_actionscript||this.ctaParams.use_actionscript||"0",actionScript=this.ctaParams.exitintent_actionscript||this.ctaParams.actionscript||"";useActionScript&&actionScript.length&&eval(actionScript)},$TRD_CtaComponent}(),$TRD_CtaContentComponent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MAX_PAGE_TITLE_LENGTH=80,e}return __extends(e,t),e.prototype.notify=function(t,e){var n=this.getCtaEventData();n.pages=e,document.dispatchEvent(new CustomEvent(t,{detail:n}))},e.prototype.showComponent=function(){return __awaiter(this,void 0,void 0,(function(){var t,e;return __generator(this,(function(n){switch(n.label){case 0:return[4,this.getContentTasks()];case 1:return t=n.sent(),this.cta.RenderMode===enRenderModes.SHOW?(e=$Trd_InternalEventsTypes.CTA_SHOWN,this.show()):e=$Trd_InternalEventsTypes.CTA_NOT_EXPOSED,this.isShowNotified||(this.notify(e,null==t?void 0:t.Pages),this.isShowNotified=!0),[2]}}))}))},e.prototype.getContentTasks=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){if(this.taskPages)return[2,this.taskPages];if(!this.taskPagesPromise){if(!t)throw"limit is required for the first request";this.taskPagesPromise=this.loadContentTasks(t)}return[2,this.taskPagesPromise]}))}))},e.prototype.loadContentTasks=function(t){var e=this;return new Promise((function(n,i){var o;o={AccountId:e.context.accountId,CtaId:e.cta.Id,Url:$Trd_Base64.encode(e.context.pageDetails.url),Limit:t,UserPagesHistoryStr:JSON.stringify(e.context.ctaUserPageHistoryCook.records),UseOriginalImageIfExists:!0};var r=e.context.environment.trafficServiceUrl+"/api/content/recommend?"+$Trd_Utils.objectToQueryString(o);$Trd_Tools.JSONP(r,(function(t){try{e.taskPages=e.getProcessedContentTasks(t),n(e.taskPages)}catch(t){i(t)}}))}))},e.prototype.getProcessedContentTasks=function(t){var e=this;return t.Pages.forEach((function(t){if(t.cleanPageUrl=t.PageUrl,t.Title.length>e.MAX_PAGE_TITLE_LENGTH-3&&(t.Title=t.Title.slice(0,e.MAX_PAGE_TITLE_LENGTH)+"..."),"pdf"===t.PageType){var n=encodeURIComponent(t.PageUrl),i=e.context.environment.fetchPdfPath+"?url="+n,o=e.context.environment.isStage?"stage=true&":"";t.PageUrl=e.context.environment.pdfViewerPath+"?"+o+"accountId="+e.context.accountId+"&vid="+e.context.visitorId+"&ptr="+n+"&file="+encodeURIComponent(i)}if(e.ctaParams.exitintent_utm_code&&e.ctaParams.exitintent_utm_code.length){var r=t.PageUrl.indexOf("?")>=0?"&":"?";t.PageUrl+=r+e.ctaParams.exitintent_utm_code}})),t},e}($TRD_CtaComponent),$TRD_GenericLayoutComponent=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return __extends(e,t),e.prototype.initialize=function(t){var e,n,i,o=this;if(this.cta.RenderMode===enRenderModes.SHOW){this.componentContainerElem=t,this.componentHtmlRootElem=t.querySelector("#trd_cta_"+this.cta.ViewModelId),this.componentContainerElem.querySelectorAll(".close-btn").forEach((function(t){t.addEventListener("click",(function(t){o.close(t.target),o.notify($Trd_InternalEventsTypes.CTA_CLOSE),t.preventDefault(),t.stopPropagation()}))}));var r=this.componentContainerElem.querySelectorAll("a.trd-link");null==r||r.forEach((function(t){t.addEventListener("click",(function(t){o.close(),o.notify($Trd_InternalEventsTypes.CTA_COMPLETE),t.stopPropagation()}))})),null===(e=this.componentContainerElem.querySelector(".light .container-elements"))||void 0===e||e.addEventListener("click",(function(t){t.stopPropagation()})),null===(n=this.componentContainerElem.querySelector(".light"))||void 0===n||n.addEventListener("click",(function(t){o.close(),o.notify($Trd_InternalEventsTypes.CTA_CLOSE)})),document.addEventListener("keyup",(function(t){"Escape"===t.key&&o.componentHtmlRootElem.classList.contains("trd-initial-open")&&o.componentHtmlRootElem.classList.contains("light")&&(o.close(),o.notify($Trd_InternalEventsTypes.CTA_CLOSE))})),null===(i=this.componentContainerElem.querySelectorAll(".trd-custom-html a"))||void 0===i||i.forEach((function(t){t.addEventListener("click",(function(t){o.close(),o.notify($Trd_InternalEventsTypes.CTA_COMPLETE),t.stopPropagation()}))}))}},e.prototype.show=function(){var t=this;if(this.componentHtmlRootElem.classList.remove("trd-component-hide"),this.componentHtmlRootElem.classList.add("trd-initial-open"),setTimeout((function(){return t.componentHtmlRootElem.classList.add("animate")}),0),this.model.classes.includes("fixed")&&this.model.classes.includes("position_1")){var e=this.componentHtmlRootElem.offsetHeight;document.body.classList.add("trd-top-space"),this.addTopFixedStyles(e)}return!0},e.prototype.addTopFixedStyles=function(t){var e=window.getComputedStyle(document.body),n=Number(e.paddingTop.replace("px","")),i=document.createElement("style");i.innerHTML="body.trd-fixed-plus{ padding-top:"+(t+n)+"px !important;}\n       body .trd-bar-offset{top: "+t+"px !important;}",document.head.appendChild(i),document.body.classList.add("trd-fixed-plus"),document.querySelectorAll("*").forEach((function(t){var e=window.getComputedStyle(t);"fixed"!==e.position||0!==parseInt(e.top)||t.classList.contains("trd-comp-container")&&t.classList.contains("fixed")||t.classList.add("trd-bar-offset")}))},e.prototype.removeTopFixedStyles=function(){document.body.classList.remove("trd-fixed-plus"),document.querySelectorAll(".trd-bar-offset").forEach((function(t){t.classList.remove("trd-bar-offset")}))},e.prototype.hide=function(){this.model.classes.includes("fixed")&&this.model.classes.includes("position_1")},e.prototype.getEventPrefix=function(){return"generic_unit"},e.prototype.clear=function(){},e.prototype.getLogoAbsolutePath=function(t){if(t&&t.length)return t.toLocaleLowerCase().startsWith("http")?t:this.context.environment.contentTaskLogoPath+"/tasks_logo/"+t},e.prototype.close=function(t){var e=this,n=this.componentHtmlRootElem;n.classList.remove("trd-initial-open"),n.classList.add("trd-component-hide"),this.model.classes.includes("fixed")&&this.model.classes.includes("position_1")&&(document.body.classList.remove("trd-top-space"),this.removeTopFixedStyles()),setTimeout((function(){return e.componentHtmlRootElem.classList.add("animate-hidden")}),300),this.unitClosed()},e.prototype.getCompiledTemplate=function(t,e){var n,i,o,r;this.model=t;var d=t.link,a=t.isUnitLink&&d,s=t.subTitle||"",c=this.getLogoAbsolutePath(t.logoRelativeUrl),l=!a&&(null===(n=t.classes)||void 0===n?void 0:n.includes("arrow-button"))&&(null==d?void 0:d.length),h=(null===(i=t.classes)||void 0===i?void 0:i.includes("trd-close-btn"))?'<img src="https://pic.trendemon.com/images/closex.png" alt="close promotion" />':"";return{html:'\n    <div id="trd_cta_'+this.cta.ViewModelId+'" class="trd_comp_'+this.cta.ViewModelId+" trd-comp-container "+(null===(o=t.classes)||void 0===o?void 0:o.join(" "))+'">\n      <div class="component-content">\n        <div class="close-cont external-close-cont">\n          <div class="external close-btn">'+h+"</div>\n        </div>\n\n        "+(a?'<a href="'+d+'" class="container-elements trd-link" target="'+(this.model.isOpenInNewWindow?"_blank":"_self")+'">':'<div class="container-elements">')+'\n          <div class="close-cont internal-close-cont">\n              <div class="internal close-btn">'+h+"</div>\n          </div>\n          "+((null===(r=t.customHtml)||void 0===r?void 0:r.length)?'<div class="trd-custom-html">'+t.customHtml+"</div>":"\n          "+(c&&(null==d?void 0:d.length)&&!a?'\n          <a href="'+d+'" class="trd-link" target="'+(this.model.isOpenInNewWindow?"_blank":"_self")+'">\n            <img class="trd-img trd-img-link" src="'+c+'" alt="go to promotion">\n          </a>\n          ':(null==c?void 0:c.length)?'<div style="display: flex; justify-content: center;"><img class="trd-img trd-img-link" src="'+c+'"></div>':"")+'\n\n          <div class="interactable-container">\n            <div class="int-con-td-item trd-title">'+(l?'<a target="'+(this.model.isOpenInNewWindow?"_blank":"_self")+'" class="trd-link" href="'+d+'">'+(t.title||"")+"</a>":t.title||"")+'</div>\n            <div class="int-con-td-item trd-description">'+(l?'<a target="'+(this.model.isOpenInNewWindow?"_blank":"_self")+'" class="trd-link" href="'+d+'">'+s+"</a>":s)+'</div>\n            <div class="int-con-td-item linkable-container">\n              <div class="linkable-items">\n\n                '+(d&&t.buttonText&&!a?'<a href="'+d+'" class="trd-link" target="'+(this.model.isOpenInNewWindow?"_blank":"_self")+'">\n                  <div class="btn-link">'+t.buttonText+"</div>\n                </a>":t.buttonText?'<div class="btn-link">'+t.buttonText+"</div>":"")+"\n\n              </div>\n            </div>\n          </div>")+"\n        "+(a?"</a>":"</div>")+"        \n      </div>\n    </div>\n  ",css:"<style> "+this.getStyleElement(t)+" "+this.getCustomStyles(e)+" </style>"}},e.prototype.getCustomStyles=function(t){return t?t.replace(/{{ID}}/g,this.cta.ViewModelId).replace(/{{VISIBILITY}}/g,this.getVisibiltyTypeDescription(this.cta.VisibiltyTypeId)):""},e.prototype.getVisibiltyTypeDescription=function(t){switch(t){case UnitVisibiltyType.Embedded:return"embedded";case UnitVisibiltyType.Float:return"fixed";case UnitVisibiltyType.Full:return"full";case UnitVisibiltyType.Light:return"light";case UnitVisibiltyType.Sliding:return"slider";default:return console.error("unknown UnitVisibiltyType: "+t),""}},e.prototype.getStyleElement=function(t){return"\n    #trd_cta_"+this.cta.ViewModelId+":not(.light):not(.full){\n      z-index: 999999999;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".light, #trd_cta_"+this.cta.ViewModelId+".full{\n      z-index: 9999999999;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".rounded input,\n    #trd_cta_"+this.cta.ViewModelId+".rounded button,\n    #trd_cta_"+this.cta.ViewModelId+".rounded .btn-submit,\n    #trd_cta_"+this.cta.ViewModelId+".trd-rounded input,\n    #trd_cta_"+this.cta.ViewModelId+".trd-rounded button,\n    #trd_cta_"+this.cta.ViewModelId+".trd-rounded .btn-submit,\n    #trd_cta_"+this.cta.ViewModelId+".trd-survey.trd-rounded .btn-link.trd-answer\n    {\n      border-radius: 20px;\n      border: 0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" input, #trd_cta_"+this.cta.ViewModelId+" button, #trd_cta_"+this.cta.ViewModelId+" .btn-submit{\n      border: 1px "+(this.ctaParams.textColor||"#19a5c0")+" solid;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-comp-container{\n      display:none;\n      background: "+(this.ctaParams.backgroundColor||"#19a5c0")+";\n      text-align: center;\n      background-repeat: no-repeat;\n      background-size: cover;\n      background-position: center;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .internal-close-cont{\n      display:none;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .trd-link, #trd_cta_"+this.cta.ViewModelId+" .trd-link:hover{\n      text-decoration: none;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .trd-img {\n      background-repeat: no-repeat;\n      background-size: contain;\n      background-position: center;\n      width: auto;\n      min-height: auto;\n      flex-basis: 1;\n      flex-grow: 1;\n      min-width: 150px;\n      max-height: 450px;\n      margin: 0;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".full .trd-img {\n      flex-basis: unset;\n      flex-grow: unset;\n    }\n\n\n    #trd_cta_"+this.cta.ViewModelId+".embedded .trd-img {\n      flex-basis: inherit;\n      flex-grow: inherit;\n      min-width: inherit;\n      max-width: 100%;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".light .trd-img {\n      background-size: contain;\n      align-self: center;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".slider .trd-img {\n      min-height: 100px;\n      background-size: contain;\n      margin: 2px;\n      width: inherit;\n      max-width: 150px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".trd-survey.slider .trd-img {\n      object-fit: scale-down;\n      min-height: unset;\n      margin: 2px auto;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".single-img.light .container-elements{\n      height: auto;\n      max-width: unset;\n      background: unset;\n      box-shadow: unset;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".single-img.slider .trd-img{\n      position: static;\n      padding: 0;\n      margin: 0;\n      max-width: 100%;\n      display:block;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".single-img.slider .component-content .container-elements{\n      padding: 0;\n      width:100%;\n      display:block;\n    }\n\n\n    #trd_cta_"+this.cta.ViewModelId+".single-img .interactable-container{\n      display: none;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".embedded .trd-img {\n      /*min-height: 15vw;*/\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .interactable-container{\n      /*align-self: center;\n      flex-grow1: 1;*/\n      flex-basis: unset;\n      margin: 3px;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-around;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".right-content .interactable-container{\n      margin:0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".fixed .interactable-container {\n      flex-direction: row;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .close-cont{\n      background: "+(this.ctaParams.buttonTextColor||"white")+";\n      color: "+(this.ctaParams.buttonBackgroundColor||"black")+";\n      line-height: 1;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-close-btn .close-cont{\n        background:none;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .close-btn:hover{\n      /*transform: rotate(90deg);\n      box-shadow: 3px 2px 3px #999999;*/\n      opacity: 1;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .btn-link{\n      background: "+(this.ctaParams.buttonBackgroundColor||"white")+";\n      color:  "+(this.ctaParams.buttonTextColor||"#19a5c0")+";\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .container-elements, #trd_cta_"+this.cta.ViewModelId+" .container-elements a,\n    #trd_cta_"+this.cta.ViewModelId+" .int-con-td-item.trd-title{\n      color: "+(this.ctaParams.textColor||"#f3f2f4")+";\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .container-elements .trd-description, #trd_cta_"+this.cta.ViewModelId+" .container-elements .trd-description a{\n      color: "+(this.ctaParams.secondaryTextColor||this.ctaParams.textColor||"#f3f2f4")+";\n    }\n    #trd_cta_"+this.cta.ViewModelId+".fixed .interactable-container{\n      display: flex;\n      width: 100%;\n      justify-content: center;\n      align-items: center;\n      align-content: space-around;\n      flex-basis: inherit;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .trd-description{\n     font-size: 18px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+":not(.arrow-button):not(.fixed) .trd-description, #trd_cta_"+this.cta.ViewModelId+":not(.arrow-button):not(.fixed) .trd-title{\n        line-height:1.4;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .container-elements{\n      display: inline-block;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".embedded .container-elements{\n      display: block;\n      padding:0;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".trd-initial-open{\n      display: block;\n    }\n    #trd_cta_"+this.cta.ViewModelId+":not(.arrow-button) .trd-link{\n      font-size: 18px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .responsive {\n      width: 100%;\n      height: auto;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".light .responsive {\n      max-width: 300px;\n      max-height: 300px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .close-btn{\n      cursor:pointer;\n      opacity:0.9;\n      transition: opacity .1s linear;\n      font-weight: bolder;\n      text-align: center;\n\n    }\n    #trd_cta_"+this.cta.ViewModelId+".embedded .close-btn{\n      display: none;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".embedded .container-elements{\n      color: inherit;\n    }\n    @media only screen and (max-width : 640px) {\n      #trd_cta_"+this.cta.ViewModelId+".fixed .trd-title{\n        font-size: medium;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".full .linkable-container{\n        width:100%;\n        max-width: 350px;\n        margin: 0 auto;\n      }\n\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-comp-container.embedded.trd-component-hide{\n      display:inherit;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .trd-component-hide{\n      display:none;\n    }\n\n    /* FIXED*/\n      /* FIXED - TOP*/\n      #trd_cta_"+this.cta.ViewModelId+".fixed{\n        position:fixed;\n        opacity: 1;\n        color: "+(this.ctaParams.textColor||"white")+";\n        width: 100%;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".fixed.position_1{\n        top:0;\n      }\n      /* FIXED - BOTTOM*/\n      #trd_cta_"+this.cta.ViewModelId+".fixed.position_7{\n        bottom:0;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".fixed .container-elements{\n        display: flex;\n        justify-content: center;\n        min-height: 60px;\n        align-items: center;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".fixed.position_7 .container-elements{\n        border-top: 3px solid #cccccc;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".fixed.position_1 .container-elements{\n        border-bottom: 3px solid #cccccc;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".fixed .trd-description{\n        font-size:14px;\n        text-align:left;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".fixed .trd-title{\n        font-size:18px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".fixed .trd-img{\n        display:none;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".fixed .int-con-td-item{\n        padding: 0 10px 0 10px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".fixed .close-cont{\n        text-align:center;\n        position: absolute;\n        right: 5px;\n        top: 5px;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".fixed .btn-link{\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        border-radius:3px;\n        padding:7px 15px;\n        font-size:16px;\n        white-space:nowrap;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".fixed a{\n        text-decoration: none;\n        border-radius:3px;\n      }\n    /* LIGHT */\n    #trd_cta_"+this.cta.ViewModelId+".light{\n      width: 100%; height: 100%;\n      position: fixed; top: 0; left: 0;\n      opacity:1;\n      background: rgba(0,0,0,0.7);\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".light .component-content{\n      height: 95vh;\n      display: flex;\n      justify-content: center;\n      align-content: center;\n      align-items: center;\n      position: relative;\n      margin: 3px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".light.position_0 .component-content,\n    #trd_cta_"+this.cta.ViewModelId+".light.position_3 .component-content,\n    #trd_cta_"+this.cta.ViewModelId+".light.position_6 .component-content{\n      justify-content: flex-start;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".light.position_2 .component-content,\n    #trd_cta_"+this.cta.ViewModelId+".light.position_5 .component-content,\n    #trd_cta_"+this.cta.ViewModelId+".light.position_8 .component-content{\n      justify-content: flex-end;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".light.position_0 .component-content,\n    #trd_cta_"+this.cta.ViewModelId+".light.position_1 .component-content,\n    #trd_cta_"+this.cta.ViewModelId+".light.position_2 .component-content{\n      align-items: baseline;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".light.position_6 .component-content,\n    #trd_cta_"+this.cta.ViewModelId+".light.position_7 .component-content,\n    #trd_cta_"+this.cta.ViewModelId+".light.position_8 .component-content{\n      align-items: flex-end;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".light .container-elements{\n      padding: 0px;\n      align-content: center;\n      display: flex;\n      flex-direction: column;\n      justify-items: center;\n       /*align-items1: center;\n      min-height: 350px;*/\n      justify-content: center;\n      background:  "+(this.ctaParams.backgroundColor||"#19a5c0")+";\n      background-repeat: no-repeat;\n      background-size: cover;\n      background-position: center;\n      position: relative;\n      max-height:550px;\n      transform: scale(0.01);\n      transition: 0.2s;\n      min-width: 350px;\n      max-width: 800px;\n      align-items: stretch;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".embedded.single-vertical .container-elements,\n    #trd_cta_"+this.cta.ViewModelId+".embedded.right-content:not(.rounded-light) .interactable-container,\n    #trd_cta_"+this.cta.ViewModelId+".embedded.rounded-light .container-elements,\n    #trd_cta_"+this.cta.ViewModelId+".embedded.trd-blank-promo .container-elements {\n      background:  "+(this.ctaParams.backgroundColor||"none")+";\n    }\n\n\n    @media only screen and (max-width : 900px) {\n      #trd_cta_"+this.cta.ViewModelId+".light .container-elements {\n        max-width: 90vw;\n        min-width: 200px;\n      }\n    }\n\n    @media only screen and (max-width : 640px) {\n      #trd_cta_"+this.cta.ViewModelId+".single-img:not(.slider) .container-elements .trd-img {\n        max-width: 98vw;\n      }\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".light.padded .container-elements {\n      padding: 20px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".single-vertical:not(.fixed):not(.full):not(.right-content) .container-elements{\n      padding: 5px;\n      min-width:150px;\n      max-width:300px;\n      min-height:unset;\n      width:auto;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-survey-predefined.single-vertical:not(.fixed):not(.full):not(.right-content) .container-elements {\n      max-width: 370px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".single-vertical.embedded:not(.fixed):not(.full):not(.right-content) .container-elements{\n      margin: 0 auto;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".single-vertical:not(.fixed):not(.full):not(.multi-field) .container-elements{\n      padding: 30px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".light.single-vertical .container-elements img,\n    #trd_cta_"+this.cta.ViewModelId+".slider.single-vertical .container-elements img {\n      width:100%;\n      height:auto;\n      margin:0;\n      margin-bottom:5px;\n      max-width:100%;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".light.padded.single-vertical .internal,\n    #trd_cta_"+this.cta.ViewModelId+".slider.padded.single-vertical .close-cont.external-close-cont{\n      right:12px;\n      top:12px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".light.padded.single-vertical:not(.multi-field) .internal,\n    #trd_cta_"+this.cta.ViewModelId+".slider.padded.single-vertical:not(.multi-field) .close-cont.external-close-cont{\n      right:3px;\n      top:3px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".light.padded.single-vertical .int-con-td-item,\n    #trd_cta_"+this.cta.ViewModelId+".slider.padded.single-vertical .int-con-td-item{\n      margin-bottom:5px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".light.animate .container-elements{\n      transform: scale(1);\n    }\n    #trd_cta_"+this.cta.ViewModelId+".light .internal-close-cont, #trd_cta_"+this.cta.ViewModelId+".full .internal-close-cont{\n      display:block;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".light .internal, #trd_cta_"+this.cta.ViewModelId+".full .internal{\n      position: absolute;\n      top:3px;\n      right: 3px;\n      border-radius: 18px;\n      width: 19px;\n      height: 19px;\n      font-size: 16px;\n      line-height: 19px\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.shifted-close-btn .external-close-cont,\n    #trd_cta_"+this.cta.ViewModelId+".light.shifted-close-btn .internal{\n      top: -10px;\n      right: -10px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".slider.shifted-close-btn.position_2 .external-close-cont,\n    #trd_cta_"+this.cta.ViewModelId+".slider.shifted-close-btn.position_5 .external-close-cont,\n    #trd_cta_"+this.cta.ViewModelId+".slider.shifted-close-btn.position_8 .external-close-cont  {\n      top: -10px;\n      left: -10px;\n      right: unset;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".light .external.close-btn {\n      display:none;\n\n    }\n    #trd_cta_"+this.cta.ViewModelId+".light .close-btn {\n      color: "+(this.ctaParams.buttonBackgroundColor||"black")+";\n      background: "+(this.ctaParams.buttonTextColor||"white")+";\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-comp-container.close-btn-bg-grey .close-btn{\n      color: "+(this.ctaParams.backgroundColor||"black")+";\n      background: #9f9f9f;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-comp-container.close-btn-bg-grey-inverted .close-btn{\n      color: #9f9f9f;\n      background: "+(this.ctaParams.backgroundColor||"black")+";\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-comp-container.close-btn-grey .close-btn{\n      color: #c8c4c6;\n      background: none;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-close-btn .close-btn{\n      width:17px;\n      height:17px;\n      background: none;\n      right:5px;\n      top:5px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-close-btn .close-btn img{\n      vertical-align: baseline;\n      margin:0;\n      padding:0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-close-btn .close-btn:hover{\n      transform: rotate(90deg);\n      display:block;\n      transition-delay: 0s;\n      transition-duration: 200ms;\n      transition-property: transform, opacity;\n      transition-timing-function: cubic-bezier(0.455, 0.03, 0.515, 0.955);box-sizing: content-box;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+':not(.trd-close-btn) .close-btn:after{\n      content:"X";\n      font-family: cursive, Arial, Helvetica, sans-serif;\n    }\n\n    #trd_cta_'+this.cta.ViewModelId+" .internal.close-cont{\n      text-align:center;\n      position: absolute;\n      right: 15px;\n      top: 15px;\n      font-size: xx-large;\n      border-radius: 18px;\n      width: 19px;\n      height: 19px;\n      font-size: 16px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".light.rounded-light .container-elements{\n      border-radius: 5px;\n      padding: 20px;\n      box-sizing: border-box;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".embedded.rounded-light .container-elements{\n      padding: 20px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".light.rounded-light.right-img .container-elements,\n    #trd_cta_"+this.cta.ViewModelId+".light.rounded-light.trd-right-img .container-elements{\n      padding: 25px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".light .container-elements img{\n      max-width: 98vw;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".light .btn-link, #trd_cta_"+this.cta.ViewModelId+".slider:not(.arrow-button) .btn-link,\n     #trd_cta_"+this.cta.ViewModelId+".embedded:not(.arrow-button) .btn-link{\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      margin-top: 10px;\n      border-radius: 5px;\n      transition: all .3s ease;\n      text-decoration: none;\n      min-width: 100px;\n      padding:15px 10px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .btn-link:hover{\n      box-shadow: 0 0 5px 0 rgba(0,0,0,.2);\n\n    }\n\n    /*FULL*/\n    #trd_cta_"+this.cta.ViewModelId+".full{\n      width: 100%; height: 100%;\n      position: fixed; top: 0; left: 0;\n      opacity:0.97;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".full .container-elements{\n      padding: 10px;\n      align-content: center;\n      display: flex;\n      flex-direction: column;\n      justify-items: center;\n      align-items: center;\n      height: 90vh;\n      justify-content: center;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".full .int-con-td-item{\n      padding-top:15px\n    }\n    #trd_cta_"+this.cta.ViewModelId+".full .external.close-btn{\n      display: inline-block;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".full .container-elements img{\n      max-width: auto;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".full .btn-link{\n      height: 80px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      margin-top: 10px;\n      font-size: x-large;\n    }\n    /*#trd_cta_"+this.cta.ViewModelId+".full .close-cont {\n      text-align:center;\n      position: absolute;\n      right: 30px;\n      top: 30px;\n      font-size: xx-large;\n      border-radius: 36px;\n      width: 37px;\n      height: 37px;\n      font-size: 32px;\n    }*/\n\n    #trd_cta_"+this.cta.ViewModelId+".slider:not(.single-vertical) .linkable-container{\n      margin-top: 10px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".full .linkable-container{\n      display:inline-block;\n      min-width: 520px;\n    }\n    @media only screen and (max-width : 640px) {\n      #trd_cta_"+this.cta.ViewModelId+".full .linkable-container{\n        min-width: inherit;\n      }\n      /*#trd_cta_"+this.cta.ViewModelId+".full .close-cont {\n        top: 0px;\n        right: 5px;\n        width: 25px;\n        height: 25px;\n        font-size: x-large;\n      }*/\n    }\n\n    @media only screen and (min-width : 641px) {\n      #trd_cta_"+this.cta.ViewModelId+".trd-close-btn.full .close-btn{\n        right:15px;\n        top:15px;\n      }\n    }\n    #trd_cta_"+this.cta.ViewModelId+".full .linkable-items{\n      display:flex;\n      justify-content:center;\n      height: auto;\n      align-items: center;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".light .linkable-items{\n      min-width: 50%;\n      display:inline-block;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".full .linkable-items a{\n     width: 100%;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".full .trd-link{\n      display: flex;\n      text-decoration: none;\n      display: flex;\n      flex-direction: column;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".full .trd-title{\n      font-size: xx-large;\n      font-weight: bolder;\n      line-height: 1.1;\n    }\n\n    /* SLIDER */\n    #trd_cta_"+this.cta.ViewModelId+".slider .trd-title{\n      font-size:22px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider .trd-description{\n      font-size:16px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider {\n      position: fixed;\n      display:block;\n      overflow: hidden;\n      font-family: inherit;\n      border-radius: 3px;\n      transition: 0.5s;\n      width: auto;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_0,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_2{\n      top: calc(5%);\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" input{\n      font-size: 14px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.trd-initial-open.position_7 .container-elements{\n      width: 100%;\n      padding-top: 0px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_3,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_5{\n      top:50%;\n      transform: translate(0%, -50%);\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_1,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_7{\n      left:50%;\n      transform: translate(-50%, 0%);\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_6,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_8{\n      bottom: 10px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_2,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_5,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_8{\n      right: -1000px;\n      transition: right 0.5s;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_2.trd-initial-open,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_5.trd-initial-open,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_8.trd-initial-open{\n      right: 0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_0,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_3,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_6{\n      left: -1000px;\n      transition: left 0.5s;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-initial-open.slider.position_0,\n    #trd_cta_"+this.cta.ViewModelId+".trd-initial-open.slider.position_3,\n    #trd_cta_"+this.cta.ViewModelId+".trd-initial-open.slider.position_6{\n      left: 0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_0 .trd_form_singlefield ,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_2 .trd_form_singlefield ,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_3 .trd_form_singlefield ,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_5 .trd_form_singlefield ,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_6 .trd_form_singlefield ,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_8 .trd_form_singlefield {\n      flex-direction: column;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_0 .trd_form_singlefield input,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_2 .trd_form_singlefield input,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_3 .trd_form_singlefield input,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_5 .trd_form_singlefield input,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_6 .trd_form_singlefield input,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_8 .trd_form_singlefield input{\n      height: 40px;\n      width: 100%;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_0 .trd_form_singlefield .btn-submit,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_2 .trd_form_singlefield .btn-submit,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_3 .trd_form_singlefield .btn-submit,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_5 .trd_form_singlefield .btn-submit,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_6 .trd_form_singlefield .btn-submit,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_8 .trd_form_singlefield .btn-submit{\n      height: 40px;\n      margin-top: 4px;\n      width: 100%;\n      padding-right: 0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_1{\n      top: -1000px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.trd-initial-open.position_1{\n      top:0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_4{\n      left:50%;\n      top:0;\n      transform: translate(-50%, 0);\n      max-height: 0;\n      height: auto;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_4.trd-initial-open{\n      max-height:unset;\n      top:50%;\n      transform: translate(-50%, -50%);\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_7{\n      bottom: -1000px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.trd-initial-open.position_7{\n      bottom:10px;\n      max-height:unset;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.animate-hidden{\n      display: none;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".slider.trd-initial-open{\n      overflow: unset;\n      opacity:1;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_0,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_2,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_3,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_5,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_6,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_8{\n      max-width: 450px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.trd-initial-open.single-vertical{\n      max-width:310px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.trd-initial-open.single-img{\n      max-width:70%;\n    }\n\n    @media only screen and (max-width : 480px) {\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_0:not(.single-img),\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_2:not(.single-img),\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_3:not(.single-img),\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_5:not(.single-img),\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_6:not(.single-img),\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_8:not(.single-img){\n        max-width: 98vw;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".slider .trd-img {\n        min-width: 90px;\n      }\n    }\n\n    /*#trd_cta_"+this.cta.ViewModelId+".slider:not(.single-img):not(.arrow-button) .component-content{\n      height: calc(100% - 0px);\n    }*/\n\n    #trd_cta_"+this.cta.ViewModelId+".slider .container-elements{\n      padding-right: 5px;\n      padding-top: 18px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider .responsive{\n      max-height: 200px;\n      max-width: 200px;\n    }\n\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button .int-con-td-item{\n      padding: 0 10px 0 10px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .trd-title,\n    #trd_cta_"+this.cta.ViewModelId+".trd-form-predefined-download .trd-description{\n      font-size: 24px;\n      font-weight:bold;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-form-predefined-download .trd-title{\n      font-size:18px;\n      font-weight:400;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".light.trd-rounded .container-elements{\n      border-radius: 15px;\n      overflow:hidden;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.trd-rounded .component-content,\n    #trd_cta_"+this.cta.ViewModelId+".slider.trd-rounded{\n      border-radius: 15px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.trd-rounded .close-cont{\n      right:10px;\n      top:10px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-rounded.right-content .interactable-container {\n      padding: 20px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-rounded.trd-close-btn .close-btn {\n      right:15px;\n      top:15px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .title-container .trd-title{\n      font-weight:100\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider .close-btn{\n      color: "+(this.ctaParams.buttonBackgroundColor||"black")+";\n      font-size:12px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".full .close-cont.external-close-cont{\n      display:none;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider .close-cont{\n      text-align:center;\n      position: absolute;\n      right: 2px;\n      top: 2px;\n      font-size: xx-large;\n      border-radius: 18px;\n      width: 19px;\n      height: 19px;\n      font-size: 16px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider .btn-link{\n      justify-content: center;\n      align-items: center;\n    }\n\n    /*#trd_cta_"+this.cta.ViewModelId+".slider:not(.arrow-button) .btn-link, #trd_cta_"+this.cta.ViewModelId+".embedded:not(.arrow-button) .btn-link{\n      height: 80%;\n      display: block;\n      border-radius:3px;\n      padding: 10px;\n      margin: 10px auto;\n    }*/\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button .btn-link{\n      display:flex;\n      margin:0;\n      padding:0;\n      width: auto;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button .btn-link svg{\n      height:24px;\n      width:12px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider a{\n      text-decoration: none;\n      border-radius:3px;\n    }\n\n    /* EMBEDDED */\n    #trd_cta_"+this.cta.ViewModelId+".embedded{\n      background:inherit;\n      clear: both;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".embedded .close-btn{\n      display:none;\n    }\n\n    @media only screen and (max-width : 480px) {\n      #trd_cta_"+this.cta.ViewModelId+".slider.trd-initial-open.single-img{\n        max-width:90%;\n        width:90%;\n      }\n\n      #trd_cta_8f659d62-0806-4a42-b107-b5e26fe7d5be.slider.single-img .trd-img{\n        min-height: unset;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_1:not(.single-img),\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_4:not(.single-img),\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_7:not(.single-img){\n        width: 360px;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".full .trd-title{\n        font-size: 20px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".full.trd-initial-open .title-container div.margin{\n        min-width:50px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".fixed:not(.multi-field) .interactable-container{\n        flex-direction: column;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".fixed:not(.multi-field) .interactable-container .int-con-td-item{\n        margin:3px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content .container-elements{\n        flex-direction: column;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content .interactable-container{\n        padding:5px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content img{\n        width:100%;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content .container-elements img.trd-img{\n        margin-top:10px;\n        max-width:50vw;\n        display: inline;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".trd-rounded .container-elements img.trd-img{\n        margin-top:20px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles:not(.slider):not(.fixed):not(.full) .trd-img {\n        height:260px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".embedded.right-content .container-elements{\n        background:  "+(this.ctaParams.backgroundColor||"none")+";\n        width:100%;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".embedded.right-content:not(.rounded-light) .interactable-container{\n        background:none;\n      }\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".right-content .container-elements .int-con-td-item{\n      margin:5px auto;\n    }\n\n    @media only screen and (min-width : 481px) {\n      #trd_cta_"+this.cta.ViewModelId+".right-content .container-elements{\n        flex-direction: row;\n        display: flex;\n        justify-content: center;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content.right-img .container-elements,\n      #trd_cta_"+this.cta.ViewModelId+".right-content.trd-right-img .container-elements,\n      #trd_cta_"+this.cta.ViewModelId+".right-content.slider.trd-right-img .container-elements{\n        flex-direction: row-reverse;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content .container-elements img.trd-img{\n        max-width:400px;\n        height:100%;\n        min-width:unset;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content.trd-rounded .container-elements img.trd-img{\n        margin: 40px 20px 40px 0;\n        max-width:300px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content.trd-rounded.slider .container-elements img.trd-img{\n        width:280px;\n        min-width:280px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content.trd-form-predefined-subscribe .container-elements img.trd-img{\n        max-width:300px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content.rounded-light .container-elements img.trd-img{\n        width:300px;\n        height:auto;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content.slider .container-elements img{\n        max-width:50%;\n        margin:0;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content.slider .container-elements{\n        display: flex;\n        flex-direction: row;\n        height: 100%;\n        padding-top: 1px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".fixed .trd_form_field.trd_form_singlefield input{\n        margin-right:10px;\n      }\n\n    }\n\n    @media only screen and (min-width : 481px) {\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles.light .container-elements,\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles.embedded .container-elements {\n        height: 320px;\n        width: 600px;\n        min-width: 600px;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles:not(.slider, .fixed) .container-elements {\n        position: relative;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles:not(.slider):not(.fixed):not(.full) .trd-img{\n        position: fixed;\n        top: 30px;\n        right: 20px;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles.full .trd-img {\n        position: fixed;\n        top: 15%;\n        left: calc(50% + 150px);\n      }\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles:not(.slider):not(.fixed) .interactable-container {\n        width: calc(50% - 40px);\n        min-height: 350px;\n        margin: 20px;\n        margin-bottom:0;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles.full .trd_form_field.trd_form_multifield {\n        margin-right: 10px !important;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles.full .linkable-container {\n        margin-bottom: 25px;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles:not(.slider):not(.fixed) .trd_form_multifield {\n        margin:0;\n        margin-right: 10px;\n        flex-grow:1;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles:not(.slider):not(.fixed) .interactable-container {\n        display: flex;\n        position: absolute;\n        left: 0;\n        top: 0;\n        flex-direction: column;\n        justify-content: center;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles:not(.slider):not(.fixed) .linkable-container {\n        position: fixed;\n        bottom: 0;\n        display: flex;\n        justify-items: center;\n        align-items: center;\n        width: calc(100% - 40px);\n      }\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles:not(.light):not(.slider):not(.fixed) .linkable-container {\n        justify-content: center;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".trd-comp-container.vertical-tiles.light .linkable-container {\n        justify-content: space-between;\n        padding-bottom:30px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".trd-comp-container.vertical-tiles .linkable-container .trd_input_checkbox.trd-tn-privacy-policy{\n        position: absolute;\n        bottom:5px;\n        padding:0;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles.full .btn-submit.submit-multifields {\n        margin-top: 0;\n        margin-bottom: 0;\n        height: 45px;\n      }\n    }\n\n    @media only screen and (min-width: 769px){\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles.light .container-elements,\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles.embedded .container-elements{\n        height: 400px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles:not(.slider):not(.fixed):not(.full) .trd-img {\n          height:300px;\n        }\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_0 .component-content,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_3 .component-content,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_6 .component-content,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_2 .component-content,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_5 .component-content,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_8 .component-content{\n      position: relative;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_2 .container-elements,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_5 .container-elements,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_8 .container-elements{\n      display: flex;\n      padding-right: 45px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_0 .container-elements,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_3 .container-elements,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_6 .container-elements{\n      display: flex;\n      /*flex-direction: row-reverse;*/\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.trd-initial-open.position_7 .container-elements{\n      margin-top: 40px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button{\n      width: 505px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" *{\n      box-sizing: content-box;\n      white-space: unset;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.trd-initial-open{\n      max-width: 505px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button .linkable-items{\n      position: absolute;\n      margin: 0;\n      padding: 0;\n      overflow: hidden;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_0 .linkable-items,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_3 .linkable-items,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_6 .linkable-items {\n      left: 0;\n      width: 40px;\n      top: 0;\n      height: 100%;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_2 .linkable-items,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_5 .linkable-items,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_8 .linkable-items {\n      right: 0;\n      width: 40px;\n      top: 0;\n      height: 100%;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_7 .linkable-items {\n      left: 0;\n      width: 100%;\n      top: 0;\n      height: 40px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_1 .linkable-items,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_4 .linkable-items {\n      left: 0;\n      width: 100%;\n      bottom: 0;\n      height: 40px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_2.shifted-close-btn .external-close-cont,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_5.shifted-close-btn .external-close-cont,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_8.shifted-close-btn .external-close-cont{\n      left: -10px;\n      right: unset;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_0 .btn-link,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_3 .btn-link,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_6 .btn-link,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_2 .btn-link,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_5 .btn-link,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_8 .btn-link {\n      height: 100%;\n      border-radius: 0px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_1 .btn-link,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_4 .btn-link,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_7 .btn-link {\n      height: 40px;\n      width: 100%;\n      border-radius: 0px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button .container-elements{\n      padding: 15px;\n      line-height:1.2;\n      width: auto;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-comp-container.slider.arrow-button{\n      text-align:left;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider .component-content{\n      box-shadow: 0 0 5px 0 rgba(0,0,0,.2);\n      border: none;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider.trd-initial-open.position_8,\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider.trd-initial-open.position_6{\n      bottom:25px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .component-content .close-cont{\n      z-index: 99;\n      left:0px;\n      top:2px;\n      background:none;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .interactable-container{\n      margin:0;\n      width:100%;\n      display:block;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .int-con-td-item.title-container .trd-title, #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .int-con-td-item.trd-title{\n      padding-bottom:5px;\n      border-bottom: 1px solid #ddd;\n      padding:0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .int-con-td-item.trd-title{\n      margin:0 10px;\n      padding-bottom:5px;\n      font-size:18px;\n      margin-bottom:7px;\n      line-height:1.2;\n      font-weight:100;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .int-con-td-item.linkable-container{\n      margin:0;\n      padding:0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .int-con-td-item.trd-description{\n      font-size:16px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider.position_6 .trd-content-hub-link .trd-content-hub-button,\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider.position_3 .trd-content-hub-link .trd-content-hub-button,\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider.position_0 .trd-content-hub-link .trd-content-hub-button{\n      left:0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider.position_6 .close-cont,\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider.position_3 .close-cont,\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider.position_0 .close-cont {\n      right: 0;\n      left: auto;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider.position_6 .int-con-td-item.title-container,\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider.position_3 .int-con-td-item.title-container\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider.position_0 .int-con-td-item.title-container{\n      margin-left:45px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_6:not(.horizontal) .container-elements,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_3:not(.horizontal) .container-elements,\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_0:not(.horizontal) .container-elements{\n      padding-left:55px;\n      padding-right:0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.horizontal .trd-content-hub-link .item-img, #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button .trd-img{\n      min-width:165px;\n      max-width:165px;\n      display:block;\n      min-height: auto;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.horizontal .trd-content-hub-link .item-img{\n      margin:0;\n    }\n\n    .trd-embedded-top-bottom-margin #trd_cta_"+this.cta.ViewModelId+" {\n      margin-top: 0.9em;\n      margin-bottom: 0.9em;\n    }\n\n    @media only screen and (max-width : 640px) {\n      #trd_cta_"+this.cta.ViewModelId+".right-content .interactable-container{\n        padding:10px;\n        padding-bottom:0;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_6:not(.horizontal) .container-elements,\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_3:not(.horizontal) .container-elements,\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_0:not(.horizontal) .container-elements{\n        padding-left:40px;\n        padding-right:5px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_2 .container-elements,\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_5 .container-elements,\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.position_8 .container-elements{\n        padding-left:5px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button .int-con-td-item.trd-title{\n        margin: 10px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button .container-elements{\n        flex-direction: column;\n        text-align:center;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.trd-initial-open{\n        width: 300px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .trd-content-hub-item{\n        max-width:100%;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .component-content .trd-img.trd-img-link{\n        margin: 0 auto;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .int-con-td-item.trd-title{\n        font-size:16px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .int-con-td-item.trd-description{\n        font-size:14px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".light.padded.single-vertical .container-elements {\n        max-width:80%;\n      }\n\n    }\n\n    @media only screen and (min-width : 641px) {\n      #trd_cta_"+this.cta.ViewModelId+".right-content .interactable-container{\n        padding:0 20px;\n        min-width:280px;\n      }\n\n       #trd_cta_"+this.cta.ViewModelId+".right-content.rounded-light .interactable-container{\n        padding-right:0px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content.rounded-light.right-img .interactable-container,\n      #trd_cta_"+this.cta.ViewModelId+".right-content.rounded-light.trd-right-img .interactable-container{\n        padding-right:25px;\n        padding-left:0;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content.slider .interactable-container{\n        padding:0 15px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".light.vertical-tiles .container-elements,\n      #trd_cta_"+this.cta.ViewModelId+".embedded.vertical-tiles .container-elements {\n        min-width: 620px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content.slider{\n        max-width:620px;\n        min-width:550px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content.slider .container-elements img{\n        width:300px;\n        min-width:300px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content.slider.trd-form-predefined-subscribe .container-elements img{\n        width:170px;\n        min-width:170px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content.slider.trd-form-predefined-subscribe{\n        max-width:550px;\n        min-width:450px;\n      }\n\n    }\n\n    @media only screen and (min-width : 1281px){\n      #trd_cta_"+this.cta.ViewModelId+".right-content.slider{\n        max-width:650px;\n      }\n    }\n\n    @media only screen and (max-width : 768px) {\n      #trd_cta_"+this.cta.ViewModelId+".light.padded.single-vertical .container-elements img,\n      #trd_cta_"+this.cta.ViewModelId+".slider.padded.single-vertical .container-elements img{\n        max-width:85%;\n        display: inline;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".light.padded.single-vertical .internal,\n      #trd_cta_"+this.cta.ViewModelId+".slider.padded.single-vertical .close-cont.external-close-cont{\n          right:3px;\n          top:3px;\n       }\n\n      #trd_cta_"+this.cta.ViewModelId+" .trd-title{\n        font-size:20px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+" .trd-description{\n        font-size:16px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+':not(.fixed) .trd_form_field input:not([type="checkbox"]),  #trd_cta_'+this.cta.ViewModelId+":not(.fixed) .btn-submit{\n        height:40px;\n        line-height:40px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles:not(.slider):not(.fixed):not(.full) .trd-img {\n          height:230px;\n        }\n\n      #trd_cta_"+this.cta.ViewModelId+".trd-comp-container.vertical-tiles .btn-submit{\n        height:39px;\n      }\n    }\n\n    @media only screen and (max-width : 768px) and (orientation: landscape) and (hover: none) {\n      #trd_cta_"+this.cta.ViewModelId+".light.padded.single-vertical .container-elements img,\n      #trd_cta_"+this.cta.ViewModelId+".slider.padded.single-vertical .container-elements img{\n        max-width:35%;\n        display:inline;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content .container-elements img.trd-img{\n          height:320px;\n          width:auto;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".right-content .container-elements{\n        max-height:320px;\n      }\n    }\n    "},e}($TRD_CtaComponent),$TRD_FormLayoutComponent=function(_super){function $TRD_FormLayoutComponent(t,e,n,i){var o=_super.call(this,t,e,n,i)||this;return o.dependenciesLoaded=[Promise.resolve()],o.submitted=!1,o}return __extends($TRD_FormLayoutComponent,_super),$TRD_FormLayoutComponent.prototype.initialize=function(t){var e=this;if(_super.prototype.initialize.call(this,t),this.cta.RenderMode===enRenderModes.SHOW){var n=this.componentContainerElem.querySelector(".btn-submit");null==n||n.addEventListener("click",(function(t){n.classList.contains("trd-btn-disable")||e.submitForm(!1)}))}},$TRD_FormLayoutComponent.prototype.submitForm=function(t,e){var n,i,o,r=this;if(void 0===t&&(t=!0),!this.submitted){var d=this.componentContainerElem.querySelectorAll("input"),a=!0;if(t||d.forEach((function(t){t.validity.valid?t.classList.remove("trd_error-input"):(t.classList.add("trd_error-input"),a=!1)})),a){null===(n=this.componentHtmlRootElem.classList)||void 0===n||n.add("trd-form-submitting");var s=this.componentContainerElem.querySelector(".btn-submit");null==s||s.classList.add("trd-btn-disable");var c=e||[];if(d.forEach((function(t){c.push({cfv:t.value,cfn:t.name,cfid:t.getAttribute("trd-id"),cft:t.getAttribute("typeName")||t.getAttribute("type"),cfma:t.getAttribute("trd-cfma")})})),null===(i=this.renderingContext)||void 0===i?void 0:i.previewMode)this.hideFormAfterSubmit();else{var l={AccountId:this.context.accountId,CtaId:this.cta.Id,trd_cid:this.context.cid.value,ClientUrl:btoa(this.context.pageDetails.url),uuid:(null===(o=this.context.uuid)||void 0===o?void 0:o.value)||(new Date).getTime(),FormDataStr:JSON.stringify(c)};this.context.maCookie&&this.context.maCookie.length&&(l.maCook=btoa(this.context.maCookie));var h=this.context.environment.trafficServiceUrl+"/api/experience/new-lead?"+$Trd_Utils.objectToQueryString(l);this.submitted=!0,this.notify($Trd_InternalEventsTypes.CTA_COMPLETE);$Trd_Tools.JSONP(h,(function(t){localStorage.removeItem("trd_lead_frm"),r.hideFormAfterSubmit()}))}}}},$TRD_FormLayoutComponent.prototype.hideFormAfterSubmit=function(){var t,e,n,i,o=this;if(null===(t=this.model.successText)||void 0===t?void 0:t.length){var r=this.componentContainerElem.querySelector(".interactable-container");null===(e=null==r?void 0:r.classList)||void 0===e||e.add("trd-component-hide"),null===(n=null==r?void 0:r.classList)||void 0===n||n.remove("interactable-container"),null===(i=this.componentHtmlRootElem.classList)||void 0===i||i.replace("trd-form-submitting","trd-form-success")}setTimeout((function(){o.close(o.componentContainerElem)}),3e3)},$TRD_FormLayoutComponent.prototype.show=function(){var _this=this,_a,embeddedScripts=this.componentContainerElem.querySelectorAll("script");return embeddedScripts&&embeddedScripts.length>0?Promise.all(this.dependenciesLoaded).then((function(){var _a;embeddedScripts.forEach((function(script){if(script.innerText){var scriptToRun=script.innerText;scriptToRun.indexOf("hbspt")>-1&&(scriptToRun=script.innerText.trim().replace(/\n/g,""),scriptToRun=scriptToRun.replace("portalId",'target:"#td-form-ex-'+_this.cta.ViewModelId+'", portalId ')),eval(scriptToRun)}else script.src})),(null===(_a=_this.model.scriptCode)||void 0===_a?void 0:_a.length)&&setTimeout((function(){return _this.registerToExternalForm()}),1e3)})):(null===(_a=this.model.scriptCode)||void 0===_a?void 0:_a.length)&&setTimeout((function(){return _this.registerToExternalForm()}),1e3),this.isHubspotForm||this.isMarketoForm?(setTimeout((function(){return _super.prototype.show.call(_this)}),1e3),!0):_super.prototype.show.call(this)},$TRD_FormLayoutComponent.prototype.registerToExternalForm=function(){var t=this,e=this.componentContainerElem.querySelector("form");if(this.isHubspotForm?window.addEventListener("message",(function(e){"hsFormCallback"===e.data.type&&"onFormSubmit"===e.data.eventName&&t.isHubspotFormId(e.data.id)&&t.submitForm(!0)})):this.isMarketoForm?MktoForms2.whenReady((function(){var e=t.containerElement.querySelector(".mktoForm"),n=null==e?void 0:e.getAttribute("id").replace("mktoForm_","");if(!e||!n||"undefined"==typeof MktoForms2)return!1;var i=MktoForms2.getForm(n);i&&i.onSuccess((function(){t.submitForm(!0)}))})):null==e||e.addEventListener("submit",(function(n){if(e.checkValidity()){var i=e.querySelectorAll("input");Array.from(i).find((function(t){return"true"===t.getAttribute("aria-invalid")||"true"===t.getAttribute("aria-required")&&0===t.value.length}))||(n.preventDefault(),t.submitForm(!0))}})),this.componentContainerElem.querySelector("iframe")){var n=this.componentContainerElem.querySelector("iframe").contentWindow;window.addEventListener("message",(function(e){if(e.source===n&&"string"==typeof e.data&&"recaptcha-setup"!==e.data){var i=JSON.parse(e.data);switch(i.msg){case"store":var o=i.form;o&&(t.externalFormFields=o.map((function(t,e){return{cfv:t.val,cfn:t.name,cfid:String(e),cft:t.type}})));break;case"submit":if(!t.externalFormFields){var r=i.form;r&&(t.externalFormFields=r.map((function(t,e){return{cfv:t.val,cfn:t.name,cfid:String(e),cft:t.type}})))}localStorage.setItem("trd_lead_frm",btoa(unescape(encodeURIComponent(JSON.stringify({formFields:t.externalFormFields,id:t.cta.Id,url:t.context.pageDetails.url}))))),t.submitForm(!0,t.externalFormFields);break;case"ready":n.postMessage({unitId:t.cta.ViewModelId,css:_super.prototype.getCustomStyles.call(t,t.customStyles)},"*")}}}))}},$TRD_FormLayoutComponent.prototype.getEventPrefix=function(){return"form_unit"},$TRD_FormLayoutComponent.prototype.clear=function(){},$TRD_FormLayoutComponent.prototype.getCompiledTemplate=function(t,e){var n,i,o,r,d,a,s=this;this.model=t,this.customStyles=e;var c=t.link,l=t.subTitle||"",h=this.getLogoAbsolutePath(t.logoRelativeUrl),p=(null===(n=t.classes)||void 0===n?void 0:n.includes("trd-close-btn"))?'<img src="https://pic.trendemon.com/images/closex.png" alt="close form" />':"",u='\n    <div id="trd_cta_'+this.cta.ViewModelId+'" class="trd_comp_'+this.cta.ViewModelId+" "+((null===(i=this.model.fields)||void 0===i?void 0:i.length)>1?"multi-field":"single-field")+" trd-comp-container "+(null===(o=t.classes)||void 0===o?void 0:o.join(" "))+'">\n      <div class="component-content">\n        <div class="close-cont external-close-cont">\n          <div class="external close-btn">'+p+'</div>\n        </div>\n        <div class="container-elements">\n          <div class="close-cont internal-close-cont">\n              <div class="internal close-btn">'+p+"</div>\n          </div>\n          "+(h&&(null==c?void 0:c.length)?'\n          <a href="'+c+'">\n            <img class="trd-img trd-img-link" src="'+h+'">\n          </a>\n          ':(null==h?void 0:h.length)?'\n          <img class="trd-img" src="'+h+'">':"")+'\n          <div class="interactable-container">\n            <div class="int-con-td-item trd-title">'+(t.title||"")+'</div>\n            <div class="int-con-td-item trd-description">'+l+'</div>\n            <div class="int-con-td-item linkable-container" id="td-form-ex-'+this.cta.ViewModelId+'">\n              '+((null===(r=this.model.scriptCode)||void 0===r?void 0:r.length)?this.model.scriptCode:"\n                "+(1===(null===(d=this.model.fields)||void 0===d?void 0:d.length)?'\n                <div class="trd_form_field trd_form_singlefield trd_input_'+this.getFieldType(this.model.fields[0])+'">\n                  <label class="trd_form_field_label" for="trd_'+this.cta.Id+'_f_0">'+this.model.fields[0].label+'</label>\n                  <input id="trd_'+this.cta.Id+'_f_0" required type="'+this.getFieldType(this.model.fields[0])+'" typeName="'+(this.model.fields[0].validationType||"text")+'"\n                   pattern="'+this.getPattern(this.model.fields[0])+'" trd-cfma="'+this.model.fields[0].maName+'" trd-id="0"\n                    placeholder="'+this.getLabel(this.model.fields[0])+'" name="'+this.model.fields[0].name+'">\n                  <div class="submit-container"><div class="btn-submit"><span>'+this.model.buttonText+"</span></div></div>\n                </div>\n                ":(null===(a=this.model.fields)||void 0===a?void 0:a.map((function(t,e){return'\n                <div class="trd_form_field trd_form_multifield trd_input_'+s.getFieldType(t)+" trd-tn-"+(t.validationType||"text")+'">\n                  <label class="trd_form_field_label" for="trd_'+s.cta.Id+"_f_"+e+'">'+t.label+'</label>\n                  <input id="trd_'+s.cta.Id+"_f_"+e+'" '+(t.required?"required":"")+' type="'+s.getFieldType(t)+'" typeName="'+(t.validationType||"text")+'"\n                   pattern="'+s.getPattern(t)+'" trd-cfma="'+t.maName+'" trd-id="'+e+'" placeholder="'+s.getLabel(t)+'" name="'+t.name+'"\n                    '+("hidden"===t.validationType?'value="'+t.label+'"':"")+">\n                </div>\n                "})).join(" "))+'<div class="submit-container"><div class="btn-submit submit-multifields"><span>'+this.model.buttonText+"</span></div></div>")+"\n              ")+'\n            </div>\n          </div>\n          <div class="thanks-container">'+this.model.successText+"</div>\n        </div>\n      </div>\n    </div>\n  ";if(this.model.scriptCode&&this.model.scriptCode.length){var m=document.createElement("dummy");m.innerHTML=this.model.scriptCode,Array.from(m.querySelectorAll("script")).filter((function(t){return t.src})).forEach((function(t){var e=$Trd_Utils.loadJs(t.src,(new Date).getTime().toString());s.dependenciesLoaded.push(e)}))}return{html:u,css:"<style> "+_super.prototype.getStyleElement.call(this,t)+" "+this.formStyles(t)+" "+(this.isHubspotForm?"#trd_cta_"+this.cta.ViewModelId+".light { z-index: 999999998; }":"")+" "+_super.prototype.getCustomStyles.call(this,e)+" </style>"}},$TRD_FormLayoutComponent.prototype.getLabel=function(t){return"checkbox"===this.getFieldType(t)?"":t.label},$TRD_FormLayoutComponent.prototype.getFieldType=function(t){switch(t.validationType){case"checkbox":case"privacy-policy":case"terms":return"checkbox";case"phone":return"tel";case"email":return"email";case"hidden":return"hidden";default:return"text"}},$TRD_FormLayoutComponent.prototype.getPattern=function(t){switch(t.validationType){case"email":return"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$";case"name":case"fullname":case"text":return"[^0-9<>!@#$\\^\\*\\(\\)]+";case"phone":return"^([0-9\\(\\)\\/\\+ \\-]{8,25})$";default:return""}},$TRD_FormLayoutComponent.prototype.isHubspotFormId=function(t){var e=this.componentContainerElem.querySelector("form");return(null==e?void 0:e.id)==="hsForm_"+t},Object.defineProperty($TRD_FormLayoutComponent.prototype,"isHubspotForm",{get:function(){var t;return(null===(t=this.model.scriptCode)||void 0===t?void 0:t.length)&&this.model.scriptCode.indexOf("hbspt")>-1},enumerable:!1,configurable:!0}),Object.defineProperty($TRD_FormLayoutComponent.prototype,"isMarketoForm",{get:function(){var t;return(null===(t=this.model.scriptCode)||void 0===t?void 0:t.length)&&this.model.scriptCode.indexOf("MktoForms2")>-1},enumerable:!1,configurable:!0}),$TRD_FormLayoutComponent.prototype.formStyles=function(t){var e;null===(e=t.fields)||void 0===e||e.length;return"\n\n    #trd_cta_"+this.cta.ViewModelId+" *:focus {\n      outline: none;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" form *{\n      box-sizing: border-box;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+':not(.fixed) .trd_form_field input:not([type="checkbox"]){\n      height:45px;\n      line-height: 45px;\n      padding: 0 20px;\n      width:100%;\n    }\n\n    #trd_cta_'+this.cta.ViewModelId+'.trd-field-outlined .trd_form_field input:not([type="checkbox"]){\n      border: 1px solid #CCCCCC;\n      color: '+this.ctaParams.textColor+";\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+'.trd-field-outlined .trd_form_field input:not([type="checkbox"])::placeholder {\n      color: #CCCCCC;\n    }\n\n    #trd_cta_'+this.cta.ViewModelId+'.trd-field-outlined:not(.trd-rounded) .trd_form_field input:not([type="checkbox"]),\n    #trd_cta_'+this.cta.ViewModelId+".trd-field-outlined:not(.trd-rounded) .btn-submit{\n      border-radius: 6px;\n    }\n\n    @media only screen and (max-width : 640px) {\n      #trd_cta_"+this.cta.ViewModelId+':not(.fixed) .trd_form_field input:not([type="checkbox"]){\n        height:40px;\n        line-height: 40px;\n      }\n    }\n\n    #trd_cta_'+this.cta.ViewModelId+":not(.fixed) .trd_form_field, #trd_cta_"+this.cta.ViewModelId+":not(.fixed) .submit-container{\n      margin-top:10px;\n    }\n\n   #trd_cta_"+this.cta.ViewModelId+".vertical-tiles .submit-container{\n      margin-top:0px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".single-vertical:not(.fixed) .trd_form_singlefield{\n      display: block !important;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+":not(.fixed) .btn-submit{\n      height: 45px;\n      line-height:45px;\n      font-size:18px;\n    }\n\n    /*GENERAL */\n    #trd_cta_"+this.cta.ViewModelId+":not(.trd-form-success) .thanks-container{\n      display: none;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".trd-form-success .thanks-container{\n      font-size: xx-large;\n      color: "+(this.ctaParams.textColor||"black")+";\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      align-content: center;\n      justify-items: center;\n      padding:20px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .trd_form_field_label{\n      display: none;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+"  .trd_input_hidden {\n      display: none;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .trd_form_field{\n      position: relative;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .btn-submit{\n      cursor:pointer;\n      color: "+(this.ctaParams.buttonTextColor||"white")+";\n      background: "+(this.ctaParams.buttonBackgroundColor||"black")+";\n      padding-left:10px;\n      padding-right:10px;\n      display:flex;\n      justify-content:center;\n      align-items: center;\n      margin-bottom:5px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .btn-submit span{\n      color: "+(this.ctaParams.buttonTextColor||"white")+";\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".fixed .btn-submit{\n      margin-bottom:0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".slider .component-content{\n      padding-bottom: 2px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_1 .component-content,\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_4 .component-content,\n    #trd_cta_"+this.cta.ViewModelId+".slider.position_7 .component-content{\n      padding-bottom:0px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .trd_form_singlefield .btn-submit{\n      margin-bottom:0px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .trd_form_field input{\n      padding-left:4px;\n      box-sizing: border-box;\n      background: "+(this.ctaParams.buttonTextColor||"white")+";\n      color: "+(this.ctaParams.buttonBackgroundColor||"black")+";\n      border: 0;\n      margin:0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".fixed .trd_form_field input, #trd_cta_"+this.cta.ViewModelId+".fixed .btn-submit{\n      padding:0 15px;\n      font-size:13px;\n      height: 40px;\n      line-height:40px;\n      min-width: 100px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".fixed .btn-submit{\n      white-space: nowrap;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".fixed.multi-field .linkable-container{\n      margin: 5px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" ::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */\n      color: "+(this.ctaParams.buttonBackgroundColor||"black")+";\n      opacity: 0.7; /* Firefox */\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".light .trd_form_singlefield,\n    #trd_cta_"+this.cta.ViewModelId+".slider .trd_form_singlefield,\n    #trd_cta_"+this.cta.ViewModelId+".full .trd_form_singlefield,\n    #trd_cta_"+this.cta.ViewModelId+".embedded .trd_form_singlefield{\n      margin-top:5px;\n      height: auto;\n      justify-content:center;\n      align-items: stretch;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".light .trd_form_singlefield input,\n    #trd_cta_"+this.cta.ViewModelId+".slider .trd_form_singlefield input,\n    #trd_cta_"+this.cta.ViewModelId+".full .trd_form_singlefield input,\n    #trd_cta_"+this.cta.ViewModelId+".embedded .trd_form_singlefield input{\n      min-width:200px;\n      height: auto;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".single-vertical input{\n      width: 100%;\n    }\n\n    @media only screen and (max-width : 640px) {\n      #trd_cta_"+this.cta.ViewModelId+".light .trd_form_singlefield,\n      #trd_cta_"+this.cta.ViewModelId+".slider .trd_form_singlefield,\n      #trd_cta_"+this.cta.ViewModelId+".full .trd_form_singlefield,\n      #trd_cta_"+this.cta.ViewModelId+".embedded .trd_form_singlefield{\n        min-height: 30px;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".light .trd_form_singlefield input,\n      #trd_cta_"+this.cta.ViewModelId+".slider .trd_form_singlefield input,\n      #trd_cta_"+this.cta.ViewModelId+".full .trd_form_singlefield input,\n      #trd_cta_"+this.cta.ViewModelId+".embedded .trd_form_singlefield input{\n        font-size:16px;\n      }\n    }\n    #trd_cta_"+this.cta.ViewModelId+".trd-comp-container.vertical-tiles .btn-submit {\n      margin-bottom: 0;\n      height: 43px;\n      white-space: nowrap;\n    }\n\n\n    /* FULL */\n\n    #trd_cta_"+this.cta.ViewModelId+".full .btn-submit{\n      min-width: 100px;\n      font-size: x-large;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".full .btn-submit.submit-multifields{\n      height: 50px;\n      margin-top: 30px;\n    }\n\n\n    #trd_cta_"+this.cta.ViewModelId+'.full .trd_form_field input:not([type="checkbox"]){\n      width: 100%;\n      font-size: x-large;\n    }\n\n    /* SLIDER */\n    #trd_cta_'+this.cta.ViewModelId+".slider .trd_form_field {\n      width: 100%;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+'.slider .trd_form_multifield input:not([type="checkbox"]){\n      height:40px;\n    }\n    #trd_cta_'+this.cta.ViewModelId+".slider .btn-submit{\n      height:40px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".slider .container-elements{\n      padding-top: 15px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .trd_error-input{\n      box-shadow: 0 0 3px 1px red;\n      border:1px solid red;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".fixed .linkable-container {\n      display:flex;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".fixed.multi-field .interactable-container {\n      flex-wrap: wrap;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".fixed.multi-field .linkable-container{\n      display:flex;\n      justify-content: center;\n      /*width: 100vw;*/\n\n    }\n    #trd_cta_"+this.cta.ViewModelId+".fixed .trd_form_field{\n      margin: 0 5px 0 5px;\n      display:flex;\n    }\n    /* LIGHT */\n    #trd_cta_"+this.cta.ViewModelId+".light .container-elements{\n      height: initial;\n      max-height: unset;\n      min-height: 300px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".light .linkable-container, #trd_cta_"+this.cta.ViewModelId+".right-content .linkable-container{\n      width:100%;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".light .trd_form_field{\n    }\n    #trd_cta_"+this.cta.ViewModelId+".embedded .trd_form_multifield input,\n    #trd_cta_"+this.cta.ViewModelId+".light .trd_form_multifield input{\n      /*width: calc(100% - 10px);*/\n      width:100%;\n      /*max-width: 500px;*/\n    }\n    #trd_cta_"+this.cta.ViewModelId+".embedded .submit-container,\n    #trd_cta_"+this.cta.ViewModelId+".light .submit-container,\n    #trd_cta_"+this.cta.ViewModelId+".slider .submit-container{\n      display: flex;\n      justify-content: center;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".light:not(.vertical-tiles) .submit-container,\n    #trd_cta_"+this.cta.ViewModelId+".slider:not(.vertical-tiles) .submit-container,\n    #trd_cta_"+this.cta.ViewModelId+".slider.single-vertical .submit-container{\n      margin-top:10px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".embedded .btn-submit,\n    #trd_cta_"+this.cta.ViewModelId+".light .btn-submit,\n    #trd_cta_"+this.cta.ViewModelId+".slider .btn-submit{\n      max-width: 500px;\n      width: 100%;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .trd_input_checkbox{\n      display: flex;\n      justify-content: flex-start;\n      text-align: left;\n      flex-direction: row-reverse;\n      align-items: center;\n      font-size: 12px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .trd_input_checkbox .trd_form_field_label{\n      display:block;\n      flex-grow: 5;\n    }\n    #trd_cta_"+this.cta.ViewModelId+' .trd_input_checkbox input[type="checkbox"]{\n      width:auto;\n      min-width: 15px;\n      margin-right: 10px;\n      height: auto;\n    }\n    #trd_cta_'+this.cta.ViewModelId+" .btn-submit.trd-btn-disable{\n      opacity:0.3;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .linkable-container .trd_input_checkbox.trd-tn-privacy-policy{\n      padding: 0 15px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .linkable-container .trd_input_checkbox.trd-tn-privacy-policy a{\n      text-decoration: underline;\n    }\n\n    /* predefined form */\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-form-predefined-subscribe .btn-submit{\n      border-color: "+this.ctaParams.buttonBackgroundColor+";\n      width: auto;\n      padding : 0 20px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-form-predefined-subscribe.light .container-elements{\n      max-width:620px;\n      justify-content: top;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd-form-predefined-download.light .container-elements{\n      max-width:650px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".full.trd-form-predefined-download .linkable-container{\n      min-width:unset;\n    }\n\n    /* end of predefined form */\n\n    @media only screen and (min-width : 481px) {\n\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles.light .trd_form_field.trd_form_singlefield.trd_input_email{\n        display:flex;\n        width:100%;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles.light .trd_form_singlefield .submit-container{\n        margin-left:10px;\n      }\n\n    }\n    @media only screen and (max-width : 480px) {\n     #trd_cta_"+this.cta.ViewModelId+".fixed.multi-field .linkable-container{\n        flex-direction: column;\n        width:100%;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".fixed.multi-field .linkable-container .trd_form_field {\n        margin:0;\n        margin-bottom:5px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".vertical-tiles .submit-container{\n        margin-top:10px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".trd-form-predefined-subscribe:not(.full):not(.embedded) .interactable-container{\n        position:relative;\n        top:-50px;\n        margin-bottom:-50px;\n        background: "+(this.ctaParams.backgroundColor||"white")+";\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".trd-form-predefined-subscribe:not(.full):not(.embedded) .close-cont.internal-close-cont{\n        height:20px;\n        background: "+(this.ctaParams.backgroundColor||"white")+";\n        position:relative;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.trd-form-predefined-subscribe:not(.full):not(.embedded) .close-cont.external-close-cont{\n        width:100%;\n        height:20px;\n        background: "+(this.ctaParams.backgroundColor||"white")+";\n        top:0;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.trd-form-predefined-subscribe.trd-close-btn:not(.full):not(.embedded) .close-btn{\n        position: absolute;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".trd-form-predefined-subscribe:not(.full):not(.embedded) .container-elements{\n        overflow:hidden;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".trd-form-predefined-subscribe:not(.full):not(.embedded) .container-elements img.trd-img{\n        margin-top:-60px;\n        min-width:200px;\n      }\n    }\n    "},$TRD_FormLayoutComponent}($TRD_GenericLayoutComponent),$TRD_RecommendationLayoutComponent=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.openedLinks=new Set,r}return __extends(e,t),Object.defineProperty(e.prototype,"pageLimit",{get:function(){return this.model.classes.includes("fixed")?1:this.model.classes.includes("slider")?Math.min(2,this.model.limit):this.model.limit},enumerable:!1,configurable:!0}),e.prototype.initialize=function(e){t.prototype.initialize.call(this,e)},e.prototype.getPageLogoAbsolutePath=function(t){if(t&&t.length)return t.toLocaleLowerCase().startsWith("http")?t:this.context.environment.contentTaskLogoPath+"/"+t},e.prototype.show=function(){var e,n;return __awaiter(this,void 0,void 0,(function(){var i,o,r,d,a,s=this;return __generator(this,(function(c){switch(c.label){case 0:return i=this.componentContainerElem.querySelector(".linkable-container"),o=this,[4,this.getRecommendedPages(this.pageLimit)];case 1:return o.contentTasks=c.sent(),null===(e=this.componentHtmlRootElem)||void 0===e||e.classList.replace("trd-recommend-loading","trd-recommend-loaded"),this.contentTasks.Pages.length?(t.prototype.show.call(this),r=this.model.showRecommendTags&&this.contentTasks.Pages.map((function(t){return!(!t.TagNames||!t.TagNames.length)})).includes(!0),d=this.model.showRecommendArea&&this.contentTasks.Pages.map((function(t){return!(!t.AreaName||!t.AreaName.length)})).includes(!0),a=this.contentTasks.Pages.map((function(t){var e=s.getPageLogoAbsolutePath(t.LogoUrl),n=s.getParameterizedRecommendation(t.PageUrl),i=s.model.buttonText&&s.model.buttonText.length;return'\n      <div class="trd-content-hub-item '+(r?"trd-content-hub-item-with-tags":"")+"\n        "+(i?"trd-content-hub-item-with-buttons":"")+" "+(d?"trd-content-hub-item-with-area":"")+' ">\n        <a href="'+n+'" class="trd-content-hub-link" data-item-id="'+t.PageId+'" target='+(s.sameDomain(t.PageUrl)?"_self":"_blank")+' data-page-type="'+t.PageType+'">\n        <div class="item-img-wrap">\n          <img class="item-img" src='+e+' />\n        </div>\n          <div class="trd-content-hub-link-text trd-content-hub-link-title">\n              '+(d?'<div class="trd-content-hub-area">'+(t.AreaName||"")+"</div>":"")+'\n              <div class="trd-content-hub-text trd-content-hub-text-title">'+t.Title+"</div>\n              "+(t.Description&&t.Description.length?'<div class="trd-content-hub-text trd-content-hub-text-description">'+t.Description+"</div>":"")+"\n              "+(r?'<div class="trd-content-hub-bottom">':"")+"\n              "+(i?'<div class="trd-content-hub-button">'+s.model.buttonText+"</div>":"")+"\n              "+(r?'<div class="trd-content-hub-tags">\n                  '+t.TagNames.map((function(t){return'<span class="trd-content-hub-tag">'+t+"</span>"})).join(' <span class="trd-content-hub-tag-separator">|</span> ')+"\n                </div>":"")+"\n              "+(r?"</div>":"")+"\n          </div>\n        </a>\n      </div>\n    "})).join(""),i.innerHTML=a,this.contentTasks.WidgetTitle&&this.contentTasks.WidgetTitle.length?this.componentContainerElem.querySelector(".trd-title").innerHTML=this.contentTasks.WidgetTitle:this.model.title&&this.model.title.length||(this.componentContainerElem.querySelector(".title-container").style.display="none"),this.componentContainerElem.querySelectorAll(".trd-content-hub-link").forEach((function(t){t.addEventListener("click",(function(t){var e=Number(t.currentTarget.getAttribute("data-item-id")),n=s.contentTasks.Pages.find((function(t){return t.PageId===e}));s.pageClickHandler(n,t),s.close()}))})),this.notify($Trd_InternalEventsTypes.CTA_SHOWN,this.taskPages.Pages),this.isShowNotified=!0):(null===(n=this.renderingContext)||void 0===n?void 0:n.previewMode)&&$Trd_Utils.showPreviewErrorMessage("Content Pool is empty"),[2,this.contentTasks.Pages.length>0]}}))}))},e.prototype.getParameterizedRecommendation=function(t){if(this.cta.RecommendUrlParams){var e=new URL(t);return new URLSearchParams(this.cta.RecommendUrlParams).forEach((function(t,n){return e.searchParams.set(n,t)})),e.toString()}return t},e.prototype.notify=function(t,e){var n=this.getCtaEventData();n.pages=e,document.dispatchEvent(new CustomEvent(t,{detail:n}))},e.prototype.pageClickHandler=function(t,e){return __awaiter(this,void 0,void 0,(function(){var n=this;return __generator(this,(function(i){switch(i.label){case 0:return"video"!==t.PageType||$Trd_Tools.isMobile.is_mobile()?[3,2]:(e.preventDefault(),[4,this.onVideoItemClick(t)]);case 1:return i.sent(),this.openedLinks.has(t.PageId)||this.notify($Trd_InternalEventsTypes.CTA_COMPLETE,[t]),[3,3];case 2:this.openedLinks.has(t.PageId)||(this.notify($Trd_InternalEventsTypes.CTA_COMPLETE,[t]),$Trd_Utils.compareDomains(t.PageUrl,this.context.pageDetails.url)&&(e.preventDefault(),setTimeout((function(){var e=n.getParameterizedRecommendation(t.PageUrl);window.location.href=e}),400))),i.label=3;case 3:return this.openedLinks.add(t.PageId),[2]}}))}))},e.prototype.onVideoItemClick=function(t){var e,n,i=this,o=$Trd_Utils.parseYouTubeUrl(t.PageUrl);if(o.videoId){var r=o.videoId,d=o.startTime||"0",a=document.getElementById("trd_video_popup")||document.createElement("div");a.setAttribute("id","trd_video_popup"),a.setAttribute("class","trd-component-hide trd_comp_popup light"),document.body.append(a),a.innerHTML='\n    <div class="component-content">\n      <div class="trd-video-modal-title">'+t.Title+'</div>\n      <div class="close-cont external-close-cont">\n        <div class="trd-video-close-btn">\n          <img src="https://pic.trendemon.com/images/closex.png" alt="close video" />\n        </div>\n      </div>\n      <iframe width="644" height="362" src="https://www.youtube.com/embed/'+r+"?autoplay=1&start="+d+'"\n          frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n    </div>',null===(e=a.querySelector(".component-content"))||void 0===e||e.addEventListener("click",(function(t){t.stopPropagation()})),null==a||a.addEventListener("click",(function(t){i.closeVideoPopup(a)})),null===(n=a.querySelector(".trd-video-close-btn"))||void 0===n||n.addEventListener("click",(function(t){i.closeVideoPopup(a)})),document.addEventListener("keyup",(function(t){"Escape"===t.key&&a.classList.contains("trd-initial-open")&&a.classList.contains("light")&&i.closeVideoPopup(a)})),setTimeout((function(){a.classList.replace("trd-component-hide","trd-initial-open"),setTimeout((function(){return a.classList.add("animate")}),0),a.classList.add()}),100)}else console.error("Failed to parse youtube url '"+t.PageUrl+"' ",o)},e.prototype.closeVideoPopup=function(t){t.classList.replace("trd-initial-open","trd-component-hide"),t.classList.remove("animate"),setTimeout((function(){return t.parentElement.removeChild(t)}),100)},e.prototype.sameDomain=function(t){return $Trd_Utils.compareDomains(t,this.context.pageDetails.url)},e.prototype.getRecommendedPages=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){if(this.taskPages)return[2,this.taskPages];if(!this.taskPagesPromise){if(!t)throw"limit is required for the first request";this.taskPagesPromise=this.fetchRecommendations(t)}return[2,this.taskPagesPromise]}))}))},e.prototype.fetchRecommendations=function(t){var e,n=this,i=(null===(e=this.renderingContext)||void 0===e?void 0:e.previewMode)?this.context.pageDetails.url.toString().split("?trd_unit_params")[0].split("&trd_unit_params")[0]:this.context.pageDetails.url;return new Promise((function(e,o){var r,d;d={AccountId:n.context.accountId,CtaId:n.cta.Id,Url:btoa(i),Limit:t,UserPagesHistoryStr:JSON.stringify(null===(r=n.context.ctaUserPageHistoryCook)||void 0===r?void 0:r.records),ContentPoolId:n.cta.ContentPoolId||""};var a=n.context.environment.trafficServiceUrl+"/api/content/recommend-from-pool?"+$Trd_Utils.objectToQueryString(d);$Trd_Tools.JSONP(a,(function(t){try{n.taskPages=n.getProcessedContentTasks(t),e(n.taskPages)}catch(t){o(t)}}))}))},e.prototype.getProcessedContentTasks=function(t){var e=this;return t.Pages.forEach((function(t){if(t.cleanPageUrl=t.PageUrl,"pdf"===t.PageType){var n=encodeURIComponent(t.PageUrl),i=e.context.environment.fetchPdfPath+"?url="+n,o=e.context.environment.isStage?"stage=true&":"";t.PageUrl=e.context.environment.pdfViewerPath+"?"+o+"accountId="+e.context.accountId+"&vid="+e.context.visitorId+"&ptr="+n+"&file="+encodeURIComponent(i)}if(e.ctaParams.exitintent_utm_code&&e.ctaParams.exitintent_utm_code.length){var r=t.PageUrl.indexOf("?")>=0?"&":"?";t.PageUrl+=r+e.ctaParams.exitintent_utm_code}})),t},e.prototype.getEventPrefix=function(){return"recommend_unit"},e.prototype.clear=function(){},e.prototype.getCompiledTemplate=function(e,n){var i,o;this.model=e;var r=(null===(i=e.classes)||void 0===i?void 0:i.includes("trd-close-btn"))?'<img src="https://pic.trendemon.com/images/closex.png" alt="close recommendation" />':"";return{html:'\n    <div id="trd_cta_'+this.cta.ViewModelId+'" class="trd_comp_'+this.cta.ViewModelId+" trd-recommend-loading trd-comp-container "+(null===(o=e.classes)||void 0===o?void 0:o.join(" "))+'">\n      <div class="component-content">\n        <div class="close-cont external-close-cont">\n          <div class="external close-btn">'+r+'</div>\n        </div>\n        <div class="container-elements">\n          <div class="close-cont internal-close-cont">\n              <div class="internal close-btn">'+r+'</div>\n          </div>\n          <div class="int-con-td-item title-container" >\n            <div class="trd-title-wing"></div>\n            <div class="trd-title"> '+(e.title||"")+'</div>\n            <div class="trd-title-wing"></div>\n          </div>\n          <div class="sub-title"> '+(e.subTitle||"")+'</div>\n          <div class="int-con-td-item linkable-container">\n          </div>\n        </div>\n      </div>\n    </div>\n  ',css:"<style> "+t.prototype.getStyleElement.call(this,e)+" "+this.contentStyles(e)+" "+t.prototype.getCustomStyles.call(this,n)+" </style>"}},e.prototype.contentStyles=function(t){return"\n\n    #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-link{\n      display: flex;\n      flex-direction: column;\n      text-decoration:none;\n      color: "+(this.ctaParams.buttonBackgroundColor||"#f3f2f4")+";\n      width: 100%;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-text-title {\n      font-size: 16px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".trd_comp_"+this.cta.ViewModelId+" .trd-content-hub-text-description {\n      display: none;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-text-description{\n      font-size: 11px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".horizontal .trd-content-hub-link{\n      flex-direction: row;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".horizontal .trd-content-hub-link-title{\n      align-self: center;\n    }\n\n    "+(t.showRecommendTags?"\n      #trd_cta_"+this.cta.ViewModelId+".horizontal .trd-content-hub-item-with-tags .trd-content-hub-link-title{\n        align-self: auto;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".horizontal .trd-content-hub-item-with-tags .trd-content-hub-bottom{\n        position:absolute;\n        bottom:5px;\n      }":"")+"\n\n    "+(t.showRecommendArea?"\n      #trd_cta_"+this.cta.ViewModelId+".horizontal .trd-content-hub-item-with-area .trd-content-hub-link-title{\n        align-self: auto;\n      }":"")+"\n\n    #trd_cta_"+this.cta.ViewModelId+".horizontal .trd-content-hub-text{\n      -webkit-line-clamp: 3;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".horizontal .trd-content-hub-text-title {\n      font-size: 16px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".horizontal .trd-content-hub-text-description {\n      font-size: 12px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-link .item-img{\n      transition: all .1s ease;\n      opacity:0.9;\n      width:100%;\n      background-repeat: no-repeat;\n      width: 100%;\n      height: auto;\n      display:block;\n      padding:0;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-link .item-img:hover{\n      opacity:1;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-link:hover .trd-content-hub-text{\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-text-description{\n      border-top: 1px solid rgba(0, 0, 0, 0.12);\n      color: "+(this.ctaParams.secondaryTextColor||this.ctaParams.text_color)+";\n    }\n    #trd_cta_"+this.cta.ViewModelId+".slider .linkable-container,\n    #trd_cta_"+this.cta.ViewModelId+".light .linkable-container,\n    #trd_cta_"+this.cta.ViewModelId+".embedded .linkable-container,\n    #trd_cta_"+this.cta.ViewModelId+".full .linkable-container{\n      display: flex;\n      justify-content: center;\n      align-items:center;\n      flex-wrap: wrap;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".slider.vertical-items .linkable-container,\n    #trd_cta_"+this.cta.ViewModelId+".light.vertical-items .linkable-container,\n    #trd_cta_"+this.cta.ViewModelId+".embedded.vertical-items .linkable-container,\n    #trd_cta_"+this.cta.ViewModelId+".full.vertical-items .linkable-container,\n    #trd_cta_"+this.cta.ViewModelId+".slider.horizontal .linkable-container{\n     flex-direction: column;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".slider .linkable-container,\n    #trd_cta_"+this.cta.ViewModelId+".slider.horizontal .linkable-container\n    {\n      flex-wrap: nowrap;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".full .trd-content-hub-text{\n      font-size:larger;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .title-container{\n      display:flex;\n      justify-content: center;\n      align-items:center;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".light .title-container{\n      width:90%;\n      margin: 0 auto;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .title-container div.trd-title-wing{\n     flex-grow:4;\n     height: 1px;\n     background-color: "+(this.ctaParams.textColor||"black")+";\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .title-container .trd-title{\n      color: "+(this.ctaParams.textColor||"black")+";\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".full .title-container div.trd-title-wing{\n      min-width: 100px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".position_0 .title-container div.trd-title-wing,\n    #trd_cta_"+this.cta.ViewModelId+".position_2 .title-container div.trd-title-wing,\n    #trd_cta_"+this.cta.ViewModelId+".position_3 .title-container div.trd-title-wing,\n    #trd_cta_"+this.cta.ViewModelId+".position_0 .title-container div.trd-title-wing,\n    #trd_cta_"+this.cta.ViewModelId+".position_5 .title-container div.trd-title-wing,\n    #trd_cta_"+this.cta.ViewModelId+".position_6 .title-container div.trd-title-wing,\n    #trd_cta_"+this.cta.ViewModelId+".position_8 .title-container div.trd-title-wing{\n      display: none;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .trd-title{\n      flex-grow: 1;\n      padding: 0 10px 0 10px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-item, #trd_cta_"+this.cta.ViewModelId+".light .trd-content-hub-item{\n      min-width: 180px;\n      max-width: 260px;\n      margin: 18px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".large .trd-content-hub-link-title{\n      height:70px\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".large:not(.slider) .trd-content-hub-item, #trd_cta_"+this.cta.ViewModelId+".horizontal .trd-content-hub-item {\n      max-width: 360px;\n      min-width: 260px;\n      margin: 20px;\n      width: 100%;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".horizontal.light:not(.vertical-items) .trd-content-hub-item,\n    #trd_cta_"+this.cta.ViewModelId+".horizontal.full:not(.vertical-items) .trd-content-hub-item,\n    #trd_cta_"+this.cta.ViewModelId+".horizontal.embedded:not(.vertical-items) .trd-content-hub-item {\n      margin: 10px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".horizontal.no-pad-items .trd-content-hub-item{\n      margin: 0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-item{\n      margin: 10px;\n      background:  "+(this.ctaParams.backgroundColor||"#fff")+" ;\n      filter: brightness(1.02);\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-text{\n      display: -webkit-box;\n      max-width: 100%;\n      margin: 5px auto;\n      -webkit-line-clamp: 3;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      text-align:left;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".fixed .item-img{\n      display:none;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".fixed .trd-title-wing{\n      display:none;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-link .trd-content-hub-text-title{\n      color: "+this.ctaParams.textColor+";\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-link .trd-content-hub-text-description{\n      color: "+this.ctaParams.secondaryTextColor+";\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".fixed .trd-content-hub-link{\n      background-color: "+this.ctaParams.backgroundColor+";\n      padding:4px;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-item{\n      box-shadow: 0 0 5px 0 rgba(0,0,0,.2);\n      transition: all .3s ease;\n      flex-shrink:2;\n      flex-grow:2;\n      flex-basis:0;\n    }\n    #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-item:hover{\n      box-shadow: 0 5px 20px 0 rgba(0,0,0,.2);\n    }\n    #trd_cta_"+this.cta.ViewModelId+".horizontal .trd-content-hub-link .item-img-wrap {\n      margin-bottom:0;\n      flex-grow: 3;\n      flex-basis: 0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".horizontal.arrow-button .trd-content-hub-link .item-img-wrap {\n      flex-grow: 2;\n    }\n\n\n    #trd_cta_"+this.cta.ViewModelId+".horizontal .trd-content-hub-link .item-img {\n      height: 100%;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".horizontal .trd-content-hub-link .trd-content-hub-link-text {\n      flex-grow: 5;\n      flex-basis: 0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".horizontal.arrow-button .trd-content-hub-link .trd-content-hub-link-text{\n      flex-grow:4;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".no-pad-items .trd-content-hub-item, #trd_cta_"+this.cta.ViewModelId+".horizontal.slider:not(.arrow-button) .trd-content-hub-item {\n      box-shadow: none;\n      transition: none;\n      border-bottom: 3px solid "+this.ctaParams.buttonTextColor+";\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+":not(.large):not(.horizontal) .trd-content-hub-link .trd-content-hub-link-text{\n      height: 80px;\n    }\n    "+(t.showRecommendTags?"\n      #trd_cta_"+this.cta.ViewModelId+":not(.large):not(.horizontal) .trd-content-hub-item-with-tags .trd-content-hub-link .trd-content-hub-link-text{\n        height: 120px;\n      }\n      #trd_cta_"+this.cta.ViewModelId+":not(.large):not(.horizontal) .trd-content-hub-item-with-tags.trd-content-hub-item-with-area .trd-content-hub-link .trd-content-hub-link-text{\n        height: 145px;\n      }":"")+"\n    "+(t.showRecommendArea?"\n      #trd_cta_"+this.cta.ViewModelId+":not(.large):not(.horizontal) .trd-content-hub-item-with-area .trd-content-hub-link .trd-content-hub-link-text{\n        height: 105px;\n      }":"")+"\n\n    #trd_cta_"+this.cta.ViewModelId+".fixed .trd-content-hub-link .trd-content-hub-link-text{\n      height: auto !important;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".fixed .trd-content-hub-link .trd-content-hub-button{\n      display: none;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-link .trd-content-hub-link-text{\n      line-height:1.4;\n      padding : 0 10px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".large .trd-content-hub-link .trd-content-hub-link-text{\n      height:100px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".read-more .trd-content-hub-link .trd-content-hub-link-text,\n    #trd_cta_"+this.cta.ViewModelId+".trd-read-more .trd-content-hub-link .trd-content-hub-link-text{\n      position: relative;\n    }\n\n    "+(t.showRecommendTags?"\n      #trd_cta_"+this.cta.ViewModelId+".large .trd-content-hub-item-with-tags .trd-content-hub-link .trd-content-hub-link-text{\n        height:140px;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".large .trd-content-hub-item-with-tags.trd-content-hub-item-with-buttons .trd-content-hub-link .trd-content-hub-link-text {\n        height:150px;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".large .trd-content-hub-item-with-tags.trd-content-hub-item-with-area .trd-content-hub-link .trd-content-hub-link-text{\n        height:165px;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".large .trd-content-hub-item-with-tags.trd-content-hub-item-with-area.trd-content-hub-item-with-buttons .trd-content-hub-link .trd-content-hub-link-text{\n        height:175px;\n      }":"")+"\n    "+(t.showRecommendArea?"\n      #trd_cta_"+this.cta.ViewModelId+".large .trd-content-hub-item-with-area .trd-content-hub-link .trd-content-hub-link-text{\n        height:125px;\n      }":"")+"\n\n\n    #trd_cta_"+this.cta.ViewModelId+".text-over:not(.fixed) .trd-content-hub-link .trd-content-hub-link-text{\n      position:relative;\n      margin-bottom:-70px;\n      top:-70px;\n      height:70px;\n      font-size:14px;\n      background-color: "+this.ctaParams.backgroundColor+";\n    }\n    "+(t.showRecommendTags?"\n      #trd_cta_"+this.cta.ViewModelId+".text-over:not(.fixed) .trd-content-hub-item-with-tags .trd-content-hub-link .trd-content-hub-link-text {\n        margin-bottom:-110px;\n        top:-110px;\n        height: 110px\n      }\n      #trd_cta_"+this.cta.ViewModelId+".text-over:not(.fixed) .trd-content-hub-item-with-tags.trd-content-hub-item-with-area .trd-content-hub-link .trd-content-hub-link-text {\n        margin-bottom:-140px;\n        top:-140px;\n        height: 140px\n      }":"")+"\n    "+(t.showRecommendArea?"\n      #trd_cta_"+this.cta.ViewModelId+".text-over:not(.fixed) .trd-content-hub-item-with-area .trd-content-hub-link .trd-content-hub-link-text {\n        margin-bottom:-100px;\n        top:-100px;\n        height: 100px\n      }":"")+"\n\n    #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-link .trd-content-hub-button{\n      font-size:14px;\n      background-color: "+this.ctaParams.buttonBackgroundColor+";\n      color: "+this.ctaParams.buttonTextColor+";\n      padding: 3px 10px;\n      position: absolute;\n      bottom:10px;\n      right:10px;\n      border: 1px solid "+this.ctaParams.buttonBackgroundColor+";\n      border-radius: 5px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".no-pad-items .trd-content-hub-item {\n      box-shadow: none;\n      transition: none;\n      margin: 0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".fixed .trd-content-hub-link:hover{\n      box-shadow: 4px 4px 2px #aaa;\n    }\n    #trd_cta_"+this.cta.ViewModelId+".fixed .trd-content-hub-item{\n     max-width:150px;\n     height: 98%;\n    }\n\n    "+(t.showRecommendTags?"\n      #trd_cta_"+this.cta.ViewModelId+":not(.horizontal) .trd-content-hub-bottom {\n        position:absolute;\n        bottom: 10px;\n        left: 10px;\n        right: 10px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+":not(.horizontal) .trd-content-hub-item-with-tags.trd-content-hub-item-with-buttons .trd-content-hub-bottom {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        height: 67px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-bottom .trd-content-hub-tags {\n        font-size: smaller;\n        text-align: left;\n        max-height: 35px;\n        overflow: hidden;\n        display: -webkit-box;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n        text-overflow: ellipsis;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-bottom .trd-content-hub-button {\n        position: relative;\n        bottom: unset;\n        right: unset;\n        margin-bottom: 5px;\n        align-self: flex-end;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".horizontal .trd-content-hub-item-with-tags {\n        max-width: 400px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".horizontal .trd-content-hub-item-with-tags.trd-content-hub-item-with-area {\n        max-width: 520px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".horizontal .trd-content-hub-item-with-tags .trd-content-hub-link .item-img-wrap {\n        flex-grow: 5;\n      }":"")+"\n\n    "+(t.showRecommendArea?"\n      #trd_cta_"+this.cta.ViewModelId+".horizontal .trd-content-hub-item-with-area {\n        max-width: 380px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".horizontal .trd-content-hub-item-with-area .trd-content-hub-link .item-img-wrap {\n        flex-grow: 4;\n      }":"")+"\n\n    #trd_cta_"+this.cta.ViewModelId+" .trd-content-hub-area {\n      text-align: left;\n      font-size: smaller;\n      min-height: 25px;\n      margin-top: 5px;\n    }\n\n    @media only screen and (max-width : 1010px) {\n      #trd_cta_"+this.cta.ViewModelId+".light:not(.horizontal) .trd-content-hub-item{\n        max-width: 240px;\n        min-width: 100px;\n        margin: 10px;\n      }\n    }\n\n    /* swider style */\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .int-con-td-item.title-container{\n      width:100%;\n      position: absolute;\n      top:15px;\n      left: 175px;\n      max-width:50%;\n      z-index:999;\n      margin-left:10px;\n      }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .int-con-td-item.title-container .trd-title{\n      color:"+this.ctaParams.secondaryTextColor+";\n      font-size:14px;\n      text-align:left;\n      padding-bottom:5px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .trd-content-hub-item,\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .container-elements,\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .linkable-container\n    {\n      padding:0;\n      margin: 0;\n      box-shadow: none;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .container-elements{\n      width:100%;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .trd-content-hub-item{\n      min-width:480px;\n      max-width:480px;\n      padding:15px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .trd-content-hub-link .trd-content-hub-text{\n      line-height: 1.3;\n      padding-top:15px;\n      padding-right:44px;\n      padding-left:5px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider.position_6 .trd-content-hub-link .trd-content-hub-text{\n      padding-left:0;\n      padding-right:0;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .trd-content-hub-link .trd-content-hub-button{\n      width: 12px;\n      height: 100%;\n      border-radius:0;\n      top:0;\n      right:0;\n      padding: 0 15px;\n      border: none;\n      display:flex;\n      box-sizing:content-box;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider.position_6 .trd-content-hub-link{\n      padding-left:40px;\n      box-sizing: border-box;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .trd-content-hub-link .trd-content-hub-button svg{\n      align-self: center;\n      height:24px;\n      width:12px;\n    }\n\n    #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .trd-content-hub-link-title .trd-content-hub-link-text{\n      padding-top:25px;\n      align-self: auto;\n     }\n\n    /* swider style end*/\n\n    @media only screen and (max-width : 640px) {\n      #trd_cta_"+this.cta.ViewModelId+".full .trd-content-hub-item, #trd_cta_"+this.cta.ViewModelId+".full.large .trd-content-hub-item{\n        max-height: inherit;\n        /*min-width: 80px;*/\n        margin: 4px;\n        min-height: 80px;\n        max-width: 120px;\n        font-size: small;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".embedded .trd-content-hub-item{\n        font-size: small;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".full.vertical-items .trd-content-hub-item,\n      #trd_cta_"+this.cta.ViewModelId+".embedded.vertical-items .trd-content-hub-item{\n        max-width: inherit;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .int-con-td-item.title-container{\n        left: 0;\n        max-width:90%;\n      }\n\n    }\n    @media only screen and (min-width : 769px) {\n      #trd_cta_"+this.cta.ViewModelId+".light .container-elements{\n        max-width:710px;\n      }\n    }\n\n    @media only screen and (max-width : 640px) {\n      #trd_cta_"+this.cta.ViewModelId+":not(.embedded) .trd-content-hub-item, #trd_cta_"+this.cta.ViewModelId+".light .trd-content-hub-item{\n        min-width:150px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".full.horizontal .trd-content-hub-item{\n        min-width:200px;\n        max-height:unset;\n        max-width:unset;\n        min-height:unset;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .trd-content-hub-link, #trd_cta_"+this.cta.ViewModelId+".arrow-button.trd-initial-open .container-elements{\n        flex-direction:column;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider.trd-initial-open .trd-content-hub-item{\n        padding-top: 60px;\n        min-width: 235px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider.trd-initial-open .container-elements{\n        padding:0;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.trd-initial-open.position_0 .trd-content-hub-item,\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.trd-initial-open.position_3 .trd-content-hub-item,\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.trd-initial-open.position_6 .trd-content-hub-item{\n        padding-left: 55px;\n        box-sizing: border-box;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.trd-initial-open.position_2 .trd-content-hub-item,\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.trd-initial-open.position_5 .trd-content-hub-item,\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.trd-initial-open.position_8 .trd-content-hub-item{\n        padding-right: 55px;\n        box-sizing: border-box;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.trd-initial-open .int-con-td-item.title-container{\n        width:215px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.trd-initial-open.position_6 .int-con-td-item.title-container{\n        width:230px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.arrow-button.horizontal .trd-content-hub-link .item-img{\n        margin: 0 auto;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .trd-content-hub-link .trd-content-hub-text{\n        text-align:center;\n        padding:5px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider .int-con-td-item.title-container .trd-title{\n        text-align:center;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".arrow-button.slider.position_6 .trd-content-hub-link{\n        padding-left:0;\n      }\n    }\n\n    @media only screen and (max-width: 480px) {\n      #trd_cta_"+this.cta.ViewModelId+".embedded .trd-content-hub-item{\n        max-width: 360px;\n        min-width: 250px;\n      }\n    }\n\n    /* LIGHT */\n    #trd_video_popup.trd-component-hide{\n      display:none;\n    }\n    #trd_video_popup.light{\n      width: 100%; height: 100%;\n      position: fixed; top: 0; left: 0;\n      opacity:1;\n      background: rgba(0,0,0,0.7);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 9999999;\n    }\n    #trd_video_popup.light.animate .component-content{\n      transform: scale(1);\n    }\n\n    #trd_video_popup.light .component-content{\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-content: center;\n      align-items: center;\n      position: relative;\n      margin: 3px;\n      width: 644px;\n      min-height: 362px;\n      background: "+this.ctaParams.backgroundColor+";\n      padding: 20px;\n      transform: scale(0.25);\n      transition: 0.2s;\n      box-sizing: content-box;\n    }\n\n    #trd_video_popup.light .component-content .trd-video-close-btn img{\n      vertical-align:top;\n    }\n\n    #trd_video_popup.light .component-content .trd-video-close-btn{\n      position: absolute;\n      top: 5px;\n      right: 5px;\n      background: none;\n      border-radius: 10px;\n      height: 18px;\n      cursor:pointer;\n    }\n    #trd_video_popup.light .component-content .trd-video-close-btn:hover{\n      transform: rotate(90deg);\n      display:block;\n      transition-delay: 0s;\n      transition-duration: 200ms;\n      transition-property: transform, opacity;\n      transition-timing-function: cubic-bezier(0.455, 0.03, 0.515, 0.955);box-sizing: content-box;\n    }\n    #trd_video_popup.light .component-content .trd-video-modal-title{\n      line-height: 1.2;\n      font-size: 18px;\n      padding: 0;\n      margin: 5px 0;\n      color: "+this.ctaParams.textColor+";\n      text-align: center;\n    }\n\n    "},e}($TRD_GenericLayoutComponent),$TRD_GenericScriptComponent=function(_super){function $TRD_GenericScriptComponent(t,e,n,i){return _super.call(this,t,e,n,i)||this}return __extends($TRD_GenericScriptComponent,_super),$TRD_GenericScriptComponent.prototype.initialize=function(t){this.componentContainerElem=t},$TRD_GenericScriptComponent.prototype.show=function(){var _this=this,embeddedScripts=this.componentContainerElem.querySelectorAll("script");return embeddedScripts&&embeddedScripts.length>0&&embeddedScripts.forEach((function(script){try{eval(script.innerText)}catch(t){console.warn("Trendemon script cta "+_this.cta.Id+" error:",t)}})),!0},$TRD_GenericScriptComponent.prototype.getEventPrefix=function(){return"generic_script"},$TRD_GenericScriptComponent.prototype.getCompiledTemplate=function(t,e){return this.model=t,{html:'\n    <script type="text/javascript" id="trd_code_'+this.cta.Id+'">\n      '+(this.model.scriptCode||"")+";\n    <\/script>\n  ",css:""}},$TRD_GenericScriptComponent}($TRD_CtaComponent),$TRD_FastTextLayoutComponent=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return __extends(e,t),e.prototype.initialize=function(e){var n=this;if(t.prototype.initialize.call(this,e),this.cta.RenderMode===enRenderModes.SHOW){var i=this.containerElement.querySelectorAll("a:not(.trd-link)");null==i||i.forEach((function(t){t.addEventListener("click",(function(t){n.notify($Trd_InternalEventsTypes.CTA_COMPLETE),t.stopPropagation()}))}))}},e.prototype.show=function(){var t=this;return this.componentHtmlRootElem.classList.add("trd-initial-open"),setTimeout((function(){return t.componentHtmlRootElem.classList.add("animate")}),0),!0},e.prototype.getEventPrefix=function(){return"fastext"},e.prototype.getCompiledTemplate=function(t,e){var n;this.model=t;var i=t.link,o=t.isUnitLink&&i,r=t.buttonText&&!o&&i?'<a href="'+i+'" class="trd-link trd-fastext-btn" target="'+(t.isOpenInNewWindow?"_blank":"_self")+'">'+t.buttonText+"</a>":"",d=!t.buttonText||!o&&i?"":'<div class="trd-fastext-btn">'+t.buttonText+"</div>";return{html:'\n    <div id="trd_cta_'+this.cta.ViewModelId+'" class="trd_comp_'+this.cta.ViewModelId+" trd-comp-container "+(null===(n=t.classes)||void 0===n?void 0:n.join(" "))+'">\n      <div class="component-content">\n        <div class="container-elements">\n          <div class="close-cont internal-close-cont">\n            <div class="internal close-btn">\n              <img src="https://pic.trendemon.com/images/closex.png" alt="close promotion" />\n            </div>\n          </div>\n          '+(o?'<a href="'+i+'" class="trd-banner-link trd-link" target="'+(t.isOpenInNewWindow?"_blank":"_self")+'">':'<div class="trd-banner-link trd-link">')+'\n            <div class="trd-title">'+(t.title||"")+"</div>\n            "+r+d+"\n          "+(o?"</a>":"</div>")+"\n        </div>\n      </div>\n    </div>\n    ",css:"<style> "+this.getFastTextStyles(t)+" "+this.getCustomStyles(e)+" </style>"}},e.prototype.getFastTextStyles=function(t){var e=this.getLogoAbsolutePath(t.logoRelativeUrl);return"\n      .trd-embedded-top-bottom-margin #trd_cta_"+this.cta.ViewModelId+" {\n        margin-top: 0.9em;\n        margin-bottom: 0.9em;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".trd-comp-container {\n        display: none;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".trd-comp-container.trd-initial-open {\n        display: block;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".light {\n        z-index: 9999999999;\n        width: 100%;\n        height: 100%;\n        position: fixed;\n        top: 0;\n        left: 0;\n        opacity:1;\n        background: rgba(0,0,0,0.7);\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".light .component-content {\n        height: 95vh;\n        display: flex;\n        justify-content: center;\n        align-content: center;\n        align-items: center;\n        position: relative;\n        margin: 3px;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".light.position_0 .component-content,\n      #trd_cta_"+this.cta.ViewModelId+".light.position_3 .component-content,\n      #trd_cta_"+this.cta.ViewModelId+".light.position_6 .component-content {\n        justify-content: flex-start;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".light.position_2 .component-content,\n      #trd_cta_"+this.cta.ViewModelId+".light.position_5 .component-content,\n      #trd_cta_"+this.cta.ViewModelId+".light.position_8 .component-content {\n        justify-content: flex-end;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".light.position_0 .component-content,\n      #trd_cta_"+this.cta.ViewModelId+".light.position_1 .component-content,\n      #trd_cta_"+this.cta.ViewModelId+".light.position_2 .component-content {\n        align-items: baseline;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".light.position_6 .component-content,\n      #trd_cta_"+this.cta.ViewModelId+".light.position_7 .component-content,\n      #trd_cta_"+this.cta.ViewModelId+".light.position_8 .component-content {\n        align-items: flex-end;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".light .container-elements{\n        transform: scale(0.01);\n        transition: 0.2s;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".light.animate .container-elements{\n        transform: scale(1);\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider {\n        position: fixed;\n        display:block;\n        overflow: hidden;\n        font-family: inherit;\n        border-radius: 3px;\n        transition: 0.5s;\n        width: auto;\n        max-width: 90%;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_0,\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_2 {\n        top: calc(5%);\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_3,\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_5{\n        top:50%;\n        transform: translate(0%, -50%);\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_1,\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_7{\n        left:50%;\n        transform: translate(-50%, 0%);\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_6,\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_8{\n        bottom: 10px;\n      }\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_2,\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_5,\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_8{\n        right: -1000px;\n        transition: right 0.5s;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_2.trd-initial-open,\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_5.trd-initial-open,\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_8.trd-initial-open{\n        right: 0;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_0,\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_3,\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_6{\n        left: -1000px;\n        transition: left 0.5s;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.trd-initial-open.position_0,\n      #trd_cta_"+this.cta.ViewModelId+".slider.trd-initial-open.position_3,\n      #trd_cta_"+this.cta.ViewModelId+".slider.trd-initial-open.position_6{\n        left: 0;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_1{\n        top: -1000px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.trd-initial-open.position_1{\n        top:0;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_4{\n        left:50%;\n        top:0;\n        transform: translate(-50%, 0);\n        max-height: 0;\n        height: auto;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_4.trd-initial-open{\n        max-height:unset;\n        top:50%;\n        transform: translate(-50%, -50%);\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.position_7{\n        bottom: -1000px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".slider.trd-initial-open.position_7{\n        bottom:10px;\n        max-height:unset;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+" .container-elements {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        box-sizing: border-box;\n        cursor: default;\n        width: "+(t.width?this.getCssSize(t.width):"100%")+";\n        max-width: 100%;\n        "+(t.height?"height: "+this.getCssSize(t.height)+";":"")+"\n        "+(this.ctaParams.backgroundColor?"background-color: "+this.ctaParams.backgroundColor+";":"")+"\n        "+(e?'background-image: url("'+e+'"); background-size: cover; background-position: center;':"")+"\n        "+(t.isUnitLink&&t.link?"":"padding: 15px 20px;")+"\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".embedded .container-elements {\n        margin: auto;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".light .container-elements {\n        position: relative;\n        max-width: min(90%, 800px);\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+" .close-btn{\n        cursor: pointer;\n        width: 17px;\n        height: 17px;\n        background: none;\n        position: absolute;\n        right: 5px;\n        top: 5px;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+" .close-btn img{\n        vertical-align: baseline;\n        margin:0;\n        padding:0;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+" .close-btn:hover {\n        transform: rotate(90deg);\n        display:block;\n        transition-delay: 0s;\n        transition-duration: 200ms;\n        transition-property: transform, opacity;\n        transition-timing-function: cubic-bezier(0.455, 0.03, 0.515, 0.955);box-sizing: content-box;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+".embedded .close-btn {\n        display: none;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+" a,\n      #trd_cta_"+this.cta.ViewModelId+" a:hover,\n      #trd_cta_"+this.cta.ViewModelId+" a:active,\n      #trd_cta_"+this.cta.ViewModelId+" a:visited {\n        text-decoration: none;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+" .trd-banner-link.trd-link {\n        flex-direction: column;\n        justify-content: center;\n        box-sizing: border-box;\n        "+(t.height?"height: "+this.getCssSize(t.height)+";":"")+"\n        "+(t.isUnitLink&&t.link?"padding: 15px 20px;":"")+"\n      }\n      \n      #trd_cta_"+this.cta.ViewModelId+" .trd-link,\n      #trd_cta_"+this.cta.ViewModelId+" .trd-title {\n        width: 100%;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+" .trd-title {\n        color: #000000;\n        line-height: 1.2;\n      }\n\n      #trd_cta_"+this.cta.ViewModelId+" .trd-fastext-btn {\n        box-sizing: border-box;\n        color: "+this.ctaParams.buttonTextColor+";\n        background-color: "+this.ctaParams.buttonBackgroundColor+";\n        padding: 10px;\n        border-radius: 5px;\n        text-align: center;\n        font-size: larger;\n      }\n    "},e.prototype.getCssSize=function(t){return/^\d+$/.test(t)?t+"px":t},e}($TRD_GenericLayoutComponent),$TRD_SurveyLayoutComponent=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.answers=[],r.submitted=!1,r}return __extends(e,t),e.prototype.initialize=function(e){var n=this;(t.prototype.initialize.call(this,e),this.cta.RenderMode===enRenderModes.SHOW)&&this.componentContainerElem.querySelectorAll(".trd-answer").forEach((function(t){return t.addEventListener("click",(function(t){var e=t.target,i=Number(e.getAttribute("trd-q-id")),o=Number(e.getAttribute("trd-q-idx")),r=Number(e.getAttribute("trd-answer-idx"));n.answers.push({q:i,a:r});var d=e.closest(".trd-question");d.classList.add("trd-q-done"),o===n.model.surveyQuestions.length?(n.componentContainerElem.querySelector(".trd-survey-done").classList.add("trd-survey-success"),n.notify($Trd_InternalEventsTypes.CTA_COMPLETE),n.submit(),setTimeout((function(){n.close(n.componentContainerElem)}),3e3)):d.nextSibling.classList.add("trd-q-show")}))}))},e.prototype.submit=function(){if(!this.submitted){this.submitted=!0;var t={accountId:this.context.accountId,url:btoa(this.context.pageDetails.url),unitId:this.cta.Id,answers:JSON.stringify(this.answers),marketingAutomationCookie:this.context.maCookie||""},e=this.context.environment.trafficServiceUrl+"/api/Experience/survey?"+$Trd_Utils.objectToQueryString(t);$Trd_Tools.JSONP(e,null)}},e.prototype.getEventPrefix=function(){return"survey"},e.prototype.getCompiledTemplate=function(e,n){var i,o;this.model=e;var r=this.getLogoAbsolutePath(e.logoRelativeUrl),d=(null===(i=e.classes)||void 0===i?void 0:i.includes("trd-close-btn"))?'<img src="https://pic.trendemon.com/images/closex.png" alt="close survey" />':"";return{html:'\n        <div id="trd_cta_'+this.cta.ViewModelId+'" class="trd_comp_'+this.cta.ViewModelId+" trd-comp-container trd-survey "+(null===(o=e.classes)||void 0===o?void 0:o.join(" "))+'">\n            <div class="component-content">\n                <div class="close-cont external-close-cont">\n                    <div class="external close-btn">'+d+'</div>\n                </div>\n                <div class="container-elements">\n                    <div class="close-cont internal-close-cont">\n                        <div class="internal close-btn">'+d+'</div>\n                    </div>\n                    <div class="interactable-container">\n                        '+(r&&r.length?'<img class="trd-img" src="'+r+'">':"")+'\n                        <div class="int-con-td-item trd-title">'+(e.title||"")+"</div>\n\n                        "+e.surveyQuestions.map((function(t,e){return'<div class="trd-question '+(0===e?"trd-q-show":"")+'">\n                            <div class="int-con-td-item trd-description">'+t.question+"</div>\n                            "+t.answers.map((function(n,i){return'<button class="btn-link trd-answer" trd-q-id="'+t.questionId+'" trd-q-idx="'+(e+1)+'" trd-answer-idx="'+(i+1)+'">'+n+"</button>"})).join("")+"\n                            </div>"})).join("")+'\n\n                        <div class="trd-survey-done"><div class="trd-survey-done-text">'+(this.model.successText||"")+"</div></div>\n                    </div>\n                </div>\n            </div>\n        </div>",css:"<style> "+t.prototype.getStyleElement.call(this,e)+" "+("\n        #trd_cta_"+this.cta.ViewModelId+".trd-survey .container-elements {\n            min-width: 200px;\n            padding: 15px;\n            box-sizing: border-box;\n        }\n\n        #trd_cta_"+this.cta.ViewModelId+".trd-comp-container.embedded.trd-component-hide{\n            display: none;\n        }\n\n        #trd_cta_"+this.cta.ViewModelId+".trd-survey.trd-survey-predefined.light.padded.single-vertical:not(.multi-field) .internal,\n        #trd_cta_"+this.cta.ViewModelId+".trd-survey.trd-survey-predefined.slider.padded.single-vertical:not(.multi-field) .close-cont.external-close-cont {\n          right: 8px;\n          top: 8px;\n        }\n\n        #trd_cta_"+this.cta.ViewModelId+".trd-survey.slider .trd-img {\n          align-self: center;\n        }\n\n        #trd_cta_"+this.cta.ViewModelId+".trd-survey .trd-question .int-con-td-item.trd-description {\n            text-align: initial;\n            margin-bottom:15px;\n            line-height: 1.3;\n            font-weight: bold;\n            font-size: 16px;\n        }\n\n        #trd_cta_"+this.cta.ViewModelId+".trd-survey.trd-survey-predefined .trd-question .int-con-td-item.trd-description {\n          font-size: 14px;\n          margin-bottom: 25px;\n        }\n\n        #trd_cta_"+this.cta.ViewModelId+".trd-survey .trd-question:not(.trd-q-show) {\n            display: none;\n        }\n\n        #trd_cta_"+this.cta.ViewModelId+".trd-survey .trd-question.trd-q-show.trd-q-done {\n            display: none;\n        }\n\n        #trd_cta_"+this.cta.ViewModelId+".trd-survey .trd-survey-done {\n            height: 100px;\n            display: flex;\n            width: 100%;\n            justify-content: center;\n            align-items: center;\n        }\n\n        #trd_cta_"+this.cta.ViewModelId+".trd-survey .trd-survey-done:not(.trd-survey-success) {\n            display: none;\n        }\n\n        #trd_cta_"+this.cta.ViewModelId+".trd-survey .btn-link.trd-answer {\n            width: 100%;\n            justify-content: flex-start;\n            padding: 12px 10px;\n            cursor: pointer;\n            height: unset;\n            border-radius:0;\n            box-sizing: border-box;\n            font-weight: bold;\n        }\n        #trd_cta_"+this.cta.ViewModelId+".trd-survey.trd-survey-predefined .btn-link.trd-answer {\n          width: 75%;\n          margin: 10px auto 0;\n          justify-content: center;\n        }\n        #trd_cta_"+this.cta.ViewModelId+".trd-survey.trd-survey-predefined .btn-link.trd-answer:nth-of-type(4n+2) {\n          background-color: #4595cb;\n        }\n        #trd_cta_"+this.cta.ViewModelId+".trd-survey.trd-survey-predefined .btn-link.trd-answer:nth-of-type(4n+3) {\n          background-color: #0abce4;\n        }\n        #trd_cta_"+this.cta.ViewModelId+".trd-survey.trd-survey-predefined .btn-link.trd-answer:nth-of-type(4n) {\n          background-color: #ffb854;\n        }\n        #trd_cta_"+this.cta.ViewModelId+".trd-survey .btn-link.trd-answer:focus {\n            outline: none;\n            opacity: 0.8;\n        }")+" "+t.prototype.getCustomStyles.call(this,n)+" </style>"}},e}($TRD_GenericLayoutComponent),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign.apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(t,e){for(var n=0,i=e.length,o=t.length;n<i;n++,o++)t[o]=e[n];return t},COOLOFF_DAYS_AFTER_CLOSE=3,COOLOFF_MS_AFTER_CLOSE=24*COOLOFF_DAYS_AFTER_CLOSE*60*60*1e3,$Trd_ExperienceManager=function(){function $Trd_ExperienceManager(context){var _this=this;this.context=context,this.personalUnitsData=[],this.renderContext={triggersContext:new Set,visibiltyTypesContext:new Set,lastPopupTimestamp:0,lastOfferPopupTimestamp:0,lastClosedTimestamp:0,previewMode:!1},this.createdContainers=[],this.listeners=[],this.componenets=[],this.activelyClosedUnits=JSON.parse(window.localStorage.getItem("trd_activelyClosedUnits")||"[]");var frequencyHistStr=window.localStorage.getItem("trd_frequencyControlHistory");this.frequencyControlHistory=frequencyHistStr?JSON.parse(frequencyHistStr):{canTriggerExitOn:0,h:[]},this.listeners.push(this.addEventListener($Trd_InternalEventsTypes.CTA_SHOWN,(function(t){return _this.sendOpenEvent(t.detail.ctaEventPrefix,t.detail.cta,t.detail.pages),_this.sendGaTracking(t.detail.cta,"load"),t.detail.cta.DisplayFrequency&&t.detail.cta.VisibiltyTypeId!==UnitVisibiltyType.Embedded&&_this.handleFrequencyHistory(t.detail.cta),!0}))),this.listeners.push(this.addEventListener($Trd_InternalEventsTypes.CTA_CLOSE,(function(t){return _this.onActivelyCloseUnitEvent(t.detail.cta.Id),_this.renderContext.lastClosedTimestamp=(new Date).getTime(),!0}))),this.listeners.push(this.addEventListener($Trd_InternalEventsTypes.CTA_COMPLETE,(function(e){var _a;_this.sendClickEvent(e.detail.ctaEventPrefix,e.detail.cta,e.detail.pages&&e.detail.pages.length>0?e.detail.pages[0]:void 0),_this.sendGaTracking(e.detail.cta,"click",e.detail.pages&&e.detail.pages.length>0?e.detail.pages[0]:void 0);var personal=_this.personalUnitsData.find((function(t){return t.id===e.detail.cta.Id}));return(null===(_a=null==personal?void 0:personal.postCompletionScript)||void 0===_a?void 0:_a.length)&&eval(personal.postCompletionScript),!0}))),this.listeners.push(this.addEventListener($Trd_InternalEventsTypes.CTA_NOT_EXPOSED,(function(t){return _this.sendExposeEvent(t.detail.cta),!0}))),this.listeners.push(this.addEventListener($Trd_InternalEventsTypes.CTA_TRIGGER_USED,(function(t){return t.detail.trigger===$Trd_TriggersEventsTypes.EV_EXIT_INTENT&&(_this.frequencyControlHistory.canTriggerExitOn=(new Date).getTime()+60*_this.context.accountSettings.unitsExitTriggerCoolOffHours*60*1e3,window.localStorage.setItem("trd_frequencyControlHistory",JSON.stringify(_this.frequencyControlHistory))),!0}))),this.init().then((function(){_this.listeners.push(_this.addEventListener("scroll",(function(){document.dispatchEvent(new CustomEvent($Trd_TriggersEventsTypes.EV_PAGE_SCROLL,{detail:{scroll_percentage:_this.getScrollPercents()}}))}))),_this.listeners.push(_this.addEventListener("click",(function(){document.dispatchEvent(new CustomEvent($Trd_TriggersEventsTypes.EV_FIRST_INTERACTION))}))),(new Date).getTime()>_this.frequencyControlHistory.canTriggerExitOn&&($Trd_Tools.isMobile.is_mobile()?_this.initMobileOnExitDispatch():setTimeout((function(){_this.addEventListener("mouseleave",(function(t){t.clientY<=0&&document.dispatchEvent(new CustomEvent($Trd_TriggersEventsTypes.EV_EXIT_INTENT,{detail:{clientY:t.clientY}}))}),void 0,document.documentElement)}),4e3))}))}return $Trd_ExperienceManager.prototype.initMobileOnExitDispatch=function(){var t=0,e=0,n=0,i=0,o=!1,r=0,d=0;function a(){t=window.innerHeight?window.innerHeight:document.documentElement.clientHeight,document.body.scrollHeight?document.body.scrollHeight:document.documentElement.offsetHeight;var o=Number((t/356).toPrecision(2));i=n=(e=60*o)+t}function s(){var n=e+window.scrollY;i=n+t,o=!0}function c(){document.dispatchEvent(new CustomEvent($Trd_TriggersEventsTypes.EV_EXIT_INTENT))}a(),window.addEventListener("orientationchange",(function(){return a(),r=0,!0})),window.addEventListener("touchmove",s,!1),window.addEventListener("scroll",s,!1),window.addEventListener("touchstart",(function(){r=0}),!1),setInterval((function(){r++,d++,i===n&&!o&&r>=10&&c(),i===n&&o&&d>7&&c()}),1e3)},$Trd_ExperienceManager.prototype.handleFrequencyHistory=function(t){var e=t.Id;this.frequencyControlHistory.h=this.frequencyControlHistory.h.filter((function(t){return t.id!==e}));var n=1;switch(t.DisplayFrequency.displayAgain.frequency){case Frequency.Never:n=1051200;break;case Frequency.EverySession:n=60;break;case Frequency.EveryPage:default:n=1}this.frequencyControlHistory.h.push({id:e,canShowTimestamp:(new Date).getTime()+60*n*1e3}),this.frequencyControlHistory.h=this.frequencyControlHistory.h.slice(-15),window.localStorage.setItem("trd_frequencyControlHistory",JSON.stringify(this.frequencyControlHistory))},$Trd_ExperienceManager.prototype.getScrollPercents=function(){var t=document.documentElement,e=document.body,n="scrollTop",i="scrollHeight";return(t[n]||e[n])/((t[i]||e[i])-t.clientHeight)*100},$Trd_ExperienceManager.prototype.addEventListener=function(t,e,n,i){return void 0===i&&(i=document),i.addEventListener(t,e,n),function(){return i.removeEventListener(t,e,n)}},$Trd_ExperienceManager.prototype.initRenderContext=function(){this.renderContext||(this.renderContext={}),this.renderContext.triggersContext=new Set,this.renderContext.visibiltyTypesContext=new Set,this.renderContext.lastPopupTimestamp=0,this.renderContext.lastOfferPopupTimestamp=Number(window.localStorage.getItem("trd_offerPopupTime")),this.renderContext.lastClosedTimestamp=0,this.renderContext.previewMode=!1},$Trd_ExperienceManager.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,r,d,a,s,c,l,h,p,u,m,_=this;return __generator(this,(function(g){switch(g.label){case 0:return this.initRenderContext(),t=new URLSearchParams(window.location.search),t.get("trd_unit_params")&&(this.renderContext.previewMode=!0),e=this.componenets.filter((function(t){return!t.isVisible})),this.componenets=this.componenets.filter((function(t){return t.isVisible})),n=this.componenets.map((function(t){return t.id})),this.personalUnitsData=this.personalUnitsData.filter((function(t){return n.includes(t.id)})),e.forEach((function(t){var e;if(t.clearComponent(),t.visibilityType!==UnitVisibiltyType.Embedded){var n=_.createdContainers.indexOf(t.containerElement);n>=0&&_.createdContainers.splice(n,1),null===(e=t.containerElement.parentNode)||void 0===e||e.removeChild(t.containerElement)}})),i=this.componenets.filter((function(t){return t.isAutoEmbed})),o=i.map((function(t){return t.id})),i.forEach((function(t){var e;t.clearComponent(),null===(e=t.containerElement.parentNode)||void 0===e||e.removeChild(t.containerElement)})),this.componenets=this.componenets.filter((function(t){return!o.includes(t.id)})),document.querySelectorAll(".trd-ph-embedded.trd-auto-embed").forEach((function(t){var e;return null===(e=t.parentNode)||void 0===e?void 0:e.removeChild(t)})),r=this.componenets.filter((function(t){return t.visibilityType===UnitVisibiltyType.Embedded&&!t.containerElement.closest("body")})),d=r.map((function(t){return t.id})),r.forEach((function(t){return t.clearComponent()})),this.componenets=this.componenets.filter((function(t){return!d.includes(t.id)})),this.personalUnitsData=this.personalUnitsData.filter((function(t){return!d.includes(t.id)})),[4,this.loadPersonalUnits()];case 1:return a=g.sent(),Array.isArray(a)?(s=null==a?void 0:a.filter((function(t){return!n.includes(t.id)})),[4,this.renderUnits(s)]):[3,3];case 2:g.sent(),this.personalUnitsData=__spreadArray(__spreadArray([],this.personalUnitsData),s),g.label=3;case 3:return c=document.querySelectorAll(".trd-ph-embedded:not(.trd-unit-populated)"),l=new Set,h=new Set,c.forEach((function(t){t.getAttribute("data-id")?l.add(t.getAttribute("data-id")):h.add(t.getAttribute("data-group"))})),[4,this.loadPersonalEmbeddedUnits(l,h)];case 4:return p=g.sent(),this.addAutoEmbedContainers(p),[4,this.renderUnits(p)];case 5:return g.sent(),u=this.personalUnitsData.map((function(t){return t.id})),m=p.filter((function(t){return!u.includes(t.id)})),this.personalUnitsData=__spreadArray(__spreadArray([],this.personalUnitsData),m),setTimeout((function(){document.dispatchEvent(new Event($Trd_TriggersEventsTypes.EV_SHORT_TIMEOUT_FROM_PAGE_LOAD_EXPIRED))}),this.context.readTimeout||3e3),setTimeout((function(){document.dispatchEvent(new Event($Trd_TriggersEventsTypes.EV_LONG_TIMEOUT_FROM_PAGE_LOAD_EXPIRED))}),this.context.readTimeout||1e4),setTimeout((function(){document.dispatchEvent(new Event($Trd_TriggersEventsTypes.EV_TIMEOUT_THIRTY_FROM_PAGE_LOAD_EXPIRED))}),this.context.readTimeout||3e4),setTimeout((function(){document.dispatchEvent(new Event($Trd_TriggersEventsTypes.EV_TIMEOUT_SIXTY_PAGE_LOAD_EXPIRED))}),this.context.readTimeout||6e4),document.dispatchEvent(new Event($Trd_TriggersEventsTypes.EV_TRD_UNITS_READY)),document.dispatchEvent(new CustomEvent($Trd_TriggersEventsTypes.EV_PAGE_SCROLL,{detail:{scroll_percentage:this.getScrollPercents()}})),[2]}}))}))},$Trd_ExperienceManager.prototype.renderUnits=function(t){return __awaiter(this,void 0,void 0,(function(){var e,n,i,o,r,d,a=this;return __generator(this,(function(s){if(t&&t.length)for(e=function(t){if(n.renderContext.previewMode&&t.groupConfig){if(!((document.querySelector(t.groupConfig.selector)?t.groupConfig.placementRules.map((function(e){return a.getAutoEmbedParagraphElement(e,t)})).filter((function(t){return t[0]||t[1]})):[]).length>0))return $Trd_Utils.showPreviewErrorMessage("Auto embed was not added - use a different CSS selector or paragraph number"),{value:void 0};n.addAutoEmbedContainers([t])}var e=void 0;if(t.visibilityType===UnitVisibiltyType.Embedded){var i=document.querySelectorAll(".trd-ph-embedded[data-id='"+t.viewModelId+"']:not(.trd-unit-populated), .trd-ph-embedded[data-group='"+t.groupId+"']:not(.trd-unit-populated)");if(0===i.length&&n.renderContext.previewMode&&$Trd_Utils.showPreviewErrorMessage("Embedded Code for Activation Unit not found"),0===i.length)return"continue";e=Array.from(i)}else{var o=document.createElement("div");o.setAttribute("id",t.viewModelId.toString()),(document.getElementById("trd_ph_cta_"+t.viewModelId)||document.body).append(o),e=[o],n.createdContainers.push(o)}e.forEach((function(e){return __awaiter(a,void 0,void 0,(function(){var n,i,o,r;return __generator(this,(function(d){switch(d.label){case 0:switch(i={Id:t.id,RenderMode:t.renderMode,InAbTestForVisitor:t.inAbTestForVisitor,VisibiltyTypeId:t.visibilityType,ViewModelId:t.viewModelId,ContentPoolId:t.contentPoolId,CtaType:String(t.typeId),DisplayFrequency:t.displayFrequency,RecommendUrlParams:t.recommendUrlParams,Name:t.name,CustomImpressionTrackingCode:t.customImpressionTrackingCode,CustomClickTrackingCode:t.customClickTrackingCode,Link:t.unitSettings.model.link,OrchestrationId:t.orchestrationId},o=t.unitSettings.param,t.typeId){case UnitTypeId.Text:n=new $TRD_GenericLayoutComponent(i,o,this.context,this.renderContext);break;case UnitTypeId.Content:case UnitTypeId.Hub:n=new $TRD_RecommendationLayoutComponent(i,o,this.context,this.renderContext);break;case UnitTypeId.Form:n=new $TRD_FormLayoutComponent(i,o,this.context,this.renderContext);break;case UnitTypeId.Script:n=new $TRD_GenericScriptComponent(i,o,this.context,this.renderContext);break;case UnitTypeId.Survey:n=new $TRD_SurveyLayoutComponent(i,o,this.context,this.renderContext);break;case UnitTypeId.FastText:n=new $TRD_FastTextLayoutComponent(i,o,this.context,this.renderContext)}return r=n.getCompiledTemplate(t.unitSettings.model,t.unitSettings.css),e.classList.add("trd-unit-populated"),e.innerHTML="\n            "+r.css+"\n            "+r.html+"\n          ",[4,n.initializeComponent(e,mapBackendTriggers(t.triggers))];case 1:return d.sent(),this.componenets.push(n),[2]}}))}))}))},n=this,i=0,o=t;i<o.length;i++)if(r=o[i],"object"==typeof(d=e(r)))return[2,d.value];return[2]}))}))},$Trd_ExperienceManager.prototype.dispose=function(){var t,e,n;null===(t=this.componenets)||void 0===t||t.forEach((function(t){return t.clearComponent()})),null===(e=this.createdContainers)||void 0===e||e.forEach((function(t){t.parentNode.removeChild(t)})),null===(n=this.listeners)||void 0===n||n.forEach((function(t){return t()}))},$Trd_ExperienceManager.prototype.loadPersonalEmbeddedUnits=function(t,e){return __awaiter(this,void 0,void 0,(function(){var n=this;return __generator(this,(function(i){return this.renderContext.previewMode?[2,Promise.resolve([])]:[2,new Promise((function(i,o){var r={AccountId:n.context.accountId,ClientUrl:n.context.pageDetails.url,MarketingAutomationCookie:n.context.maCookie||"",Ids:t.size?JSON.stringify(Array.from(t)):"[]",Groups:e.size?JSON.stringify(Array.from(e)):"[]"},d=n.context.environment.trafficServiceUrl+"/api/experience/personal-embedded?"+$Trd_Utils.objectToQueryString(r);$Trd_Tools.JSONP(d,(function(t){try{i(null==t?void 0:t.map((function(t){return __assign(__assign({},t),{triggers:[$Trd_TriggersEventsTypes.EV_CONTAINER_SHOWN,$Trd_TriggersEventsTypes.EV_CTA_FORCE_SHOW]})})))}catch(t){o(t)}}))}))]}))}))},$Trd_ExperienceManager.prototype.loadPersonalUnits=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,r,d=this;return __generator(this,(function(a){switch(a.label){case 0:return t=new URLSearchParams(window.location.search),(e=t.get("trd_unit_params"))?[4,$Trd_Utils.loadJs(this.context.environment.cdnPath+"/global/lz-string.min.js","trd-lz")]:[3,2];case 1:return a.sent(),n=LZString.decompressFromEncodedURIComponent(e),i=JSON.parse(n),o={id:i.id||0,inAbTestForVisitor:!1,renderMode:0,typeId:$Trd_Utils.getUnitTypeId(i.model.uiType),name:"preview test",unitSettings:{css:i.model.css,html:i.model.html,param:i.params,script:i.model.script,model:i.model},visibilityType:$Trd_Utils.getVisibilityTypeId(i.model.visibilityType),viewModelId:i.viewModelId,unitType:i.model.uiType,triggers:"embedded"===i.model.visibilityType?[]:["trd_units_ready"],groupId:i.model.groupId,groupConfig:i.model.groupConfig,contentPoolId:i.model.contentPoolId||-1},r=[o],[2,Promise.resolve(r)];case 2:return[2,new Promise((function(t,e){var n={AccountId:d.context.accountId,ClientUrl:d.context.pageDetails.url,MarketingAutomationCookie:d.context.maCookie||"",ExcludeUnitsJson:JSON.stringify(__spreadArray(__spreadArray([],d.activelyClosedUnits.filter((function(t){return(new Date).getTime()-t.time<COOLOFF_MS_AFTER_CLOSE})).map((function(t){return t.id}))),d.frequencyControlHistory.h.filter((function(t){return(new Date).getTime()<t.canShowTimestamp})).map((function(t){return t.id}))))},i=d.context.environment.trafficServiceUrl+"/api/experience/personal?"+$Trd_Utils.objectToQueryString(n);$Trd_Tools.JSONP(i,(function(n){try{t(n)}catch(t){e(t)}}))}))]}}))}))},$Trd_ExperienceManager.prototype.addAutoEmbedContainers=function(t){var e=this;t.forEach((function(t){if(t.groupConfig){var n=null;try{n=document.querySelector(t.groupConfig.selector)}catch(t){}n&&t.groupConfig.placementRules.forEach((function(i){var o=document.createElement("div");o.classList.add("trd-ph-embedded","trd-auto-embed","trd-embedded-top-bottom-margin"),o.setAttribute("data-group",t.groupId);var r=e.getAutoEmbedParagraphElement(i,t),d=r[0],a=r[1];d?"start"===a?d.before(o):"end"===a&&d.after(o):a&&("start"===a?null==n||n.prepend(o):"end"===a&&(null==n||n.append(o)))}))}}))},$Trd_ExperienceManager.prototype.getAutoEmbedParagraphElement=function(t,e){switch(t.placementType){case"AfterParagraph":var n=Number(t.params);if(n){var i=Array.from(document.querySelectorAll(e.groupConfig.selector+" > *:not(.trd-ph-embedded)")).filter((function(t){return["DIV","P"].includes(t.tagName)})).filter((function(t){return"none"!=window.getComputedStyle(t).getPropertyValue("display")}))[n-1];return[i,i?"end":null]}case"beforeAfterSelector":var o=JSON.parse(t.params),r=Array.from(document.querySelectorAll(e.groupConfig.selector+" > "+o.selector)).filter((function(t){return"none"!=window.getComputedStyle(t).getPropertyValue("display")}))[o.num-1];return[r,r?"before"===o.pos?"start":"end":null];case"startEndContainer":return[null,"start"===t.params?"start":"end"]}},$Trd_ExperienceManager.prototype.sendUpliftEvent=function(t){var e=this.context.environment.trafficServiceUrl+"/api/events/uplift?"+$Trd_Utils.objectToQueryString(t);return $Trd_Tools.pixel(e,"trd_cta_"+t.CtaId+"_load"),!0},$Trd_ExperienceManager.prototype.sendOpenEvent=function(t,e,n){var i,o=this,r={AccountId:this.context.accountId,Cookie:this.context.cid.value,Url:btoa(this.context.pageDetails.url),EventType:(t+"_LOAD").toUpperCase(),CtaId:e.Id,OrchId:e.OrchestrationId,Widget:!0,InAbTest:e.InAbTestForVisitor,UnitTypeId:e.CtaType};return this.sendUpliftEvent(r),(null==n?void 0:n.length)&&(null===(i=this.context.ctaUserPageHistoryCook)||void 0===i||i.addHistory(n.slice(-5)),n.forEach((function(n){var i={AccountId:o.context.accountId,Cookie:o.context.cid.value,Url:btoa(o.context.pageDetails.url),EventType:(t+"_LOAD").toUpperCase(),CtaId:e.Id,OrchId:e.OrchestrationId,Widget:!1,InAbTest:e.InAbTestForVisitor,UnitTypeId:e.CtaType,PageTaskId:n.PageId,TargetUrl:encodeURIComponent(n.cleanPageUrl)};o.sendUpliftEvent(i)}))),!0},$Trd_ExperienceManager.prototype.sendExposeEvent=function(t){var e={AccountId:this.context.accountId,Cookie:this.context.cid.value,Url:btoa(this.context.pageDetails.url),EventType:this.context.environment.eventCtaNotExposure,CtaId:t.Id,OrchId:t.OrchestrationId,Widget:!0,InAbTest:t.InAbTestForVisitor,UnitTypeId:t.CtaType};return this.sendUpliftEvent(e),!0},$Trd_ExperienceManager.prototype.onActivelyCloseUnitEvent=function(t){return this.activelyClosedUnits=this.activelyClosedUnits.filter((function(e){return e.id!==t})),this.activelyClosedUnits.push({id:t,time:(new Date).getTime()}),this.activelyClosedUnits=this.activelyClosedUnits.slice(-10),window.localStorage.setItem("trd_activelyClosedUnits",JSON.stringify(this.activelyClosedUnits)),!0},$Trd_ExperienceManager.prototype.sendClickEvent=function(t,e,n,i){var o={AccountId:this.context.accountId,Cookie:this.context.cid.value,Url:btoa(this.context.pageDetails.url),EventType:(t+"_CLICK").toUpperCase(),CtaId:e.Id,OrchId:e.OrchestrationId,Widget:!0,InAbTest:e.InAbTestForVisitor,UnitTypeId:e.CtaType,MarketingAutomationCookie:this.context.maCookie||""};return n?o.TargetUrl=encodeURIComponent(n.cleanPageUrl):e.Link&&(o.TargetUrl=encodeURIComponent(e.Link)),i&&i.length&&(o.Url=btoa(i)),this.sendUpliftEvent(o),!0},$Trd_ExperienceManager.prototype.sendGaTracking=function(ctaParams,event,page){if(!this.context.accountSettings.googleAnalyticsTrack)return!1;var trdName="Trendemon Banner "+ctaParams.Name,googleAnalyticsObjectName="undefined"!=typeof ga?"ga":"undefined"!=typeof gtag?"gtag":"undefined",trackingCodeToEval;switch(event){case"load":trackingCodeToEval=ctaParams.CustomImpressionTrackingCode;break;case"click":trackingCodeToEval=ctaParams.CustomClickTrackingCode}if(null==trackingCodeToEval?void 0:trackingCodeToEval.length)eval(trackingCodeToEval);else switch(googleAnalyticsObjectName){case"ga":var tracker=void 0!==ga.getAll?ga.getAll()[0]:void 0;tracker?tracker.send("event",trdName,event,(null==page?void 0:page.PageUrl)||"","0",{nonInteraction:"load"===event?1:0}):ga("send","event",trdName,event,(null==page?void 0:page.PageUrl)||"","0",{nonInteraction:"load"===event?1:0});break;case"gtag":gtag("event",event,{event_category:trdName,non_interaction:"load"===event})}return!0},$Trd_ExperienceManager}(),$TRD_ClientAppFactory=function(){function t(){}return t.create=function(t,e){switch(t){case"drift":return new $TRD_ClientAppDrift(e);case"sixsense":return new $TRD_ClientAppSixSense(e);default:return null}},t}(),$TRD_ClientApp=function(){function t(t){this.context=t,this.init()}return t.prototype.sendEvent=function(t){var e=__assign({accountId:this.context.accountId,url:$Trd_Base64.encode(this.context.pageDetails.url),app:t.clientApp,name:t.eventName},t.eventData?{data:JSON.stringify(t.eventData)}:{}),n=this.context.environment.trafficEventsEndpoint+"/client-app?"+$Trd_Utils.objectToQueryString(e);$Trd_Tools.pixel(n,"client-app")},t.prototype.sendEvents=function(t,e){var n={accountId:this.context.accountId,url:$Trd_Base64.encode(this.context.pageDetails.url),app:t,names:JSON.stringify(e)},i=this.context.environment.trafficEventsEndpoint+"/client-app/multiple?"+$Trd_Utils.objectToQueryString(n);$Trd_Tools.pixel(i,"client-app")},t}(),$TRD_ClientAppDrift=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.init=function(){this.registerEvent("startConversation","startConversation"),this.registerEvent("phoneCapture","phoneCapture"),this.registerEvent("conversation:playbookClicked","playbookClicked"),this.registerEvent("scheduling:meetingBooked","meetingBooked"),this.registerEventWithData("emailCapture","emailCapture",(function(t){return{email:t.data.email}}))},e.prototype.registerEvent=function(t,e){var n,i=this;null===(n=window.drift)||void 0===n||n.on(t,(function(){i.sendEvent({clientApp:"drift",eventName:e})}))},e.prototype.registerEventWithData=function(t,e,n){var i,o=this;null===(i=window.drift)||void 0===i||i.on(t,(function(t){o.sendEvent({clientApp:"drift",eventName:e,eventData:n?n(t):void 0})}))},e}($TRD_ClientApp),$TRD_ClientAppSixSense=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"LAST_SIXSENSE_UPDATE_KEY",{get:function(){return"trd_6sense_last_ts"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SIXSENSE_EVENT_COOLDOWN_MIN",{get:function(){return 60},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t;if(this.isSendEvent()){var e=localStorage.getItem("_6senseCompanyDetails");try{if(e){var n=JSON.parse(e),i=null===(t=null==n?void 0:n.segments)||void 0===t?void 0:t.names;Array.isArray(i)&&this.sendEventsWithVid(i)}}catch(t){}}},e.prototype.sendEventsWithVid=function(t){var e=this;this.intervalRef=setInterval((function(){window.trd_api.context.visitorId&&(e.sendEvents("sixsense",t),e.updateSendEvent(),clearInterval(e.intervalRef))}),100)},e.prototype.isSendEvent=function(){var t=localStorage.getItem(this.LAST_SIXSENSE_UPDATE_KEY);return!(t&&!isNaN(Number(t)))||Date.now()>Number(t)+6e4*this.SIXSENSE_EVENT_COOLDOWN_MIN},e.prototype.updateSendEvent=function(){localStorage.setItem(this.LAST_SIXSENSE_UPDATE_KEY,Date.now().toString())},e}($TRD_ClientApp),trdContext=new $Trd_Context;if(trdContext.accountId=window.TRD_ACC_ID,!trdContext.accountId){var src=document.getElementById("trdflame").src;src.split("uid=").length>1?trdContext.accountId=Number(src.split("uid=")[1].split("&")[0]):trdContext.accountId=Number(src.split("scripts/")[1].split("/")[0])}trdContext.assetsVersion=(new Date).getTime().toString(),trdContext.insertCtaCode=!0,trdContext.environment=new $Trd_EnvironmentSettings,trdContext.environment.jQueryLink="https://code.jquery.com/jquery-3.4.1.min.js",trdContext.environment.trafficEventPath="/api/events",trdContext.environment.trafficSetMaPath="/api/marketingautomation",trdContext.environment.trafficServiceUrl="https://trackingapi.trendemon.com",trdContext.environment.cdnPath="https://assets.trendemon.com",trdContext.environment.loadCssPath="/global",trdContext.environment.loadTemplatePath="/templates",trdContext.environment.loadPersonalPath="/api/cta/personal",trdContext.environment.pdfViewerPath="https://content.trendemon.com/viewern.html",trdContext.environment.fetchPdfPath="https://rny0m5kpil.execute-api.us-east-1.amazonaws.com/prod/serve",trdContext.environment.offersShowGapSec=60,trdContext.uuid=void 0,trdContext.cid=void 0,trdContext.accountSettings=void 0,trdContext.environment.contentTaskLogoPath="https://pic.trendemon.com",trdContext.environment.personalizationServiceUrl="https://prodtemplates.trendemon.com",trdContext.environment.eventCtaNotExposure="CTA_NOT_EXPOSED",trdContext.environment.eventRuNotExposure="RECOMMENDATION_NOT_EXPOSED",trdContext.environment.excludeGenericEmail=["hotmail","yahoo","gmail"],window.TrendemonContext=trdContext,window.$trd_Context=trdContext;var $Trd_Lift=function(){function t(t,e,n){if(this.context=t,this.logger=e,this.conditionRenderMode=n,!this.context.pageDetails.isMobile){switch(this.renderMode=void 0,this.context.accountSettings.liftRenderMode=this.renderMode,this.liftUrl=this.context.pageDetails.url,this.liftSpaLoaded=!1,this.liftType=this.context.accountSettings.liftType,this.liftTitle="",this.liftType){case"lift_single":this.liftSelector="trd-lift-slider";break;case"lift_swider":this.liftSelector="trd-lift-swider-box";break;case"lift_feed":this.liftSelector="trd-lift-feed-box"}this.init()}}return t.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,n;return __generator(this,(function(i){switch(i.label){case 0:return this.context.pageDetails.isMobile||this.context.useSpa&&this.liftSpaLoaded?[2]:[4,this.getTemplate()];case 1:return(t=i.sent())?(this.liftParams=t.params,[4,this.loadContentTasks()]):[3,4];case 2:return(e=i.sent()).IsOk?(this.renderMode=e.RenderMode,this.context.accountSettings.liftRenderMode=this.renderMode,this.conditionRenderMode>=0&&this.renderMode!==this.conditionRenderMode?[2,!1]:e.Pages.length?(this.tasks=e.Pages,this.liftTitle=e.WidgetTitle,this.tasks=this.context.trimTaskTitle(this.tasks,this.getLimitCharTitle()),n=this.liftParams.utmCode||"",this.tasks=this.context.addUtmcodeToUrl(this.tasks,n),this.liftSpaLoaded=!0,[4,this.renderContainer(t)]):[3,4]):[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},t.prototype.getTemplate=function(){return __awaiter(this,void 0,void 0,(function(){var t=this;return __generator(this,(function(e){return[2,new Promise((function(e,n){var i=t.context.environment.cdnTemplateEndpoint+"/"+t.context.accountId+"/"+t.liftType+".json?v="+t.context.assetsVersion;$Trd_Tools.ajax("GET",i,(function(t){try{e(t)}catch(t){n(t)}}),!1)}))]}))}))},t.prototype.renderContainer=function(t){return __awaiter(this,void 0,void 0,(function(){var e=this;return __generator(this,(function(n){return[2,new Promise((function(n,i){e.clearLiftbox();var o=document.createElement("div");o.className=e.liftSelector,o.innerHTML=t.css+t.html;var r=document.createElement("script");switch(r.type="text/javascript",r.innerHTML=t.script,o.appendChild(r),document.body.appendChild(o),e.liftType){case"lift_single":$TRD_LiftSingleEvents.init();break;case"lift_swider":$TRD_LiftSwiderEvents.init();break;case"lift_feed":$TRD_LiftFeedEvents.init()}n(o)}))]}))}))},t.prototype.loadContentTasks=function(){return __awaiter(this,void 0,void 0,(function(){var t=this;return __generator(this,(function(e){return this.liftUrl=this.context.pageDetails.url,[2,new Promise((function(e,n){var i={AccountId:t.context.accountId,Url:$Trd_Base64.encode(t.liftUrl),Limit:t.liftParams.limitTask,WidgetType:"Slider",UserPagesHistoryStr:JSON.stringify(t.context.ctaUserPageHistoryCook.records),TrdCookie:t.context.cid.value,ExposureRate:t.liftParams.exposure_rate},o=t.context.environment.trafficServiceUrl+"/api/content/recommend?"+$Trd_Utils.objectToQueryString(i);$Trd_Tools.JSONP(o,(function(t){try{e(t)}catch(t){n(t)}}))}))]}))}))},t.prototype.SavePageHistory=function(t){if(!t)return!1;var e=t.map((function(t){return parseInt(t)})),n=this.tasks.filter((function(t){if(e.indexOf(t.PageId)>=0)return t}));return this.context.ctaUserPageHistoryCook.addHistory(n),!0},t.prototype.getLiftTitile=function(){return this.liftTitle},t.prototype.sendLoad=function(){var t={AccountId:this.context.accountId,Cookie:this.context.cid.value,Url:$Trd_Base64.encode(this.liftUrl),EventType:this.getEventName("load"),RecommendationUnit:"slider",Widget:!0};t.PageTaskId=this.tasks[0].PageId,t.TargetUrl=encodeURIComponent(this.tasks[0].cleanPageUrl);var e=this.context.environment.trafficServiceUrl+"/api/events/uplift?"+$Trd_Utils.objectToQueryString(t);return $Trd_Tools.pixel(e,"trd_lift_load_"+t.PageTaskId),this.context.ctaUserPageHistoryCook.addHistory(this.tasks),!0},t.prototype.getRenderMode=function(){return this.renderMode},t.prototype.sendExposureEvent=function(){var t={AccountId:this.context.accountId,Cookie:this.context.cid.value,Url:$Trd_Base64.encode(this.liftUrl),EventType:this.context.environment.eventRuNotExposure,RecommendationUnit:"slider",Widget:!0},e=this.context.environment.trafficServiceUrl+"/api/events/uplift?"+$Trd_Utils.objectToQueryString(t);$Trd_Tools.pixel(e,"trd_lift_exposure")},t.prototype.getEventName=function(t){switch(this.liftType){case"lift_single":return"load"===t?"LIFTSINGLE_TASK_LOAD":"LIFTSINGLE_TASK_CLICK";case"lift_swider":return"load"===t?"LIFTSWIDER_TASK_LOAD":"LIFTSWIDER_TASK_CLICK";case"lift_feed":return"load"===t?"LIFTFEED_TASK_LOAD":"LIFTFEED_TASK_CLICK"}},t.prototype.sendClick=function(t){var e={AccountId:this.context.accountId,Cookie:this.context.cid.value,Url:$Trd_Base64.encode(this.liftUrl),EventType:this.getEventName("click"),RecommendationUnit:"slider",PageTaskId:t,Widget:!0},n=this.context.environment.trafficServiceUrl+"/api/events/uplift",i=this.getTaskById(t),o=encodeURIComponent(i.cleanPageUrl);return 0===this.getTaskIndex(t)?(e.PageTaskId=t,e.Widget=!0,e.TargetUrl=o,$Trd_Tools.pixel(n+"?"+$Trd_Utils.objectToQueryString(e),"trd_lift_click_"+e.PageTaskId)):(e.Url=$Trd_Base64.encode(this.context.pageDetails.url),e.PageTaskId=t,e.TargetUrl=o,e.Widget=!1,e.EventType=this.getEventName("load"),$Trd_Tools.pixel(n+"?"+$Trd_Utils.objectToQueryString(e),"trd_lift_load_"+e.PageTaskId),e.PageTaskId=t,e.TargetUrl=o,e.Widget=!0,e.EventType=this.getEventName("click"),$Trd_Tools.pixel(n+"?"+$Trd_Utils.objectToQueryString(e),"trd_lift_click_"+e.PageTaskId)),!0},t.prototype.getTaskIndex=function(t){for(var e=-1,n=0;n<this.tasks.length;n++){if(this.tasks[n].PageId===t){e=n;break}}return e},t.prototype.getTaskById=function(t){for(var e=void 0,n=0;n<this.tasks.length;n++){var i=this.tasks[n];if(i.PageId===t){e=i;break}}return e},t.prototype.getLimitCharTitle=function(){switch(this.liftType){case"lift_swider":return 75;case"lift_single":return 800;case"lift_feed":return 100}},t.prototype.compareDomains=function(t,e){var n=e||this.context.pageDetails.url,i=$Trd_Utils.parseURL(n),o=$Trd_Utils.parseURL(t);return i.host.replace("www.","")===o.host.replace("www.","")},t.prototype.clearLiftbox=function(){[".trd-lift-slider",".trd-lift-swider-box",".trd-lift-feed-box"].forEach((function(t){var e=document.querySelector(t);e&&e.parentNode.removeChild(e)}))},t}(),$Trd_Embedded=function(){function t(t,e){this.context=t,this.logger=e,this.limitCharacterOfName=80,this.renderMode=0,this.finishInit=!1,this.context.accountSettings.showRenderMode=this.renderMode,this.embeddedTitle="",this.tasks=[],this.init()}return t.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,n;return __generator(this,(function(i){switch(i.label){case 0:return this.tasks=[],this.renderMode=0,this.context.accountSettings.showRenderMode=this.renderMode,[4,this.getTemplate()];case 1:return t=i.sent(),this.embeddedParams=t.params,[4,this.loadContentTasks(this.embeddedParams)];case 2:return(e=i.sent()).IsOk?(this.tasks=e.Pages,this.renderMode=e.RenderMode,this.context.accountSettings.showRenderMode=this.renderMode,this.embeddedTitle=e.WidgetTitle,this.tasks.length>=this.embeddedParams.limitTask?(this.tasks=this.context.trimTaskTitle(this.tasks,this.limitCharacterOfName),n=this.embeddedParams.utm_code||"",this.tasks=this.context.addUtmcodeToUrl(this.tasks,n),[4,this.renderContainer(t,"trd-articleslideshow")]):[3,4]):[3,4];case 3:i.sent(),i.label=4;case 4:return this.finishInit=!0,[2]}}))}))},t.prototype.getTemplate=function(){return __awaiter(this,void 0,void 0,(function(){var t=this;return __generator(this,(function(e){return[2,new Promise((function(e,n){var i=t.context.environment.cdnTemplateEndpoint+"/"+t.context.accountId+"/embedded.json";$Trd_Tools.ajax("GET",i,(function(t){try{e(t)}catch(t){n(t)}}),!1)}))]}))}))},t.prototype.renderContainer=function(t,e){return __awaiter(this,void 0,void 0,(function(){var n=this;return __generator(this,(function(i){return[2,new Promise((function(i,o){var r="trd-articleslideshow-loaded",d=document.getElementById("trd_embeddedCss"),a=document.getElementById(e),s=document.querySelectorAll("."+e);(a||s||o(!1),d||$Trd_Tools.addCssIntoHead(t.css,"trd_embeddedCss"),a&&!1===a.classList.contains(r)&&n.CheckVisibleContainer(a))&&(a.innerHTML=t.html,(l=document.createElement("script")).type="text/javascript",l.innerHTML=t.script,a.appendChild(l),$TRD_EmbedddedEvents.init("#trd-articleslideshow"));for(var c=0;c<s.length;c++){var l,h=s[c];if(!1===h.classList.contains(r)&&n.CheckVisibleContainer(h))h.innerHTML=t.html,(l=document.createElement("script")).type="text/javascript",l.innerHTML=t.script,h.appendChild(l),h.className+=" trd-articleslideshow-idx-"+c,$TRD_EmbedddedEvents.init(".trd-articleslideshow-idx-"+c)}a||s||o(!1),i(a)}))]}))}))},t.prototype.loadContentTasks=function(t){return __awaiter(this,void 0,void 0,(function(){var e=this;return __generator(this,(function(n){return[2,new Promise((function(n,i){var o={AccountId:e.context.accountId,Url:$Trd_Base64.encode(e.context.pageDetails.url),Limit:t.limitTask,WidgetType:"Embedded",UserPagesHistoryStr:JSON.stringify(e.context.ctaUserPageHistoryCook.records),TrdCookie:e.context.cid.value,ExposureRate:t.exposure_rate},r=e.context.environment.trafficServiceUrl+"/api/content/recommend?"+$Trd_Utils.objectToQueryString(o);$Trd_Tools.JSONP(r,(function(t){try{n(t)}catch(t){i(t)}}))}))]}))}))},t.prototype.compareDomains=function(t,e){var n=e||this.context.pageDetails.url,i=$Trd_Utils.parseURL(n),o=$Trd_Utils.parseURL(t);return i.host.replace("www.","")===o.host.replace("www.","")},t.prototype.SavePageHistory=function(t){if(!t)return!1;var e=t.map((function(t){return parseInt(t)})),n=this.tasks.filter((function(t){if(e.indexOf(t.PageId)>=0)return t}));return this.context.ctaUserPageHistoryCook.addHistory(n),!0},t.prototype.getShowTitile=function(){return this.embeddedTitle},t.prototype.getRenderMode=function(){return this.renderMode},t.prototype.sendLoad=function(t){var e=this,n={AccountId:this.context.accountId,Cookie:this.context.cid.value,Url:$Trd_Base64.encode(this.context.pageDetails.url),EventType:"RESPONSIVESHOW_TASK_LOAD",RecommendationUnit:"show"};return t&&t.length?(this.context.ctaUserPageHistoryCook.addHistory(t),t.forEach((function(t,i){n.Widget=0===i,n.PageTaskId=t.PageId,n.TargetUrl=encodeURIComponent(t.cleanPageUrl);var o=e.context.environment.trafficServiceUrl+"/api/events/uplift?"+$Trd_Utils.objectToQueryString(n);$Trd_Tools.pixel(o,"trd_show_click_"+n.PageTaskId)}))):this.logger.logparam(t),!0},t.prototype.sendExposureEvent=function(){var t={AccountId:this.context.accountId,Cookie:this.context.cid.value,Url:$Trd_Base64.encode(this.context.pageDetails.url),EventType:this.context.environment.eventRuNotExposure,RecommendationUnit:"show"},e=this.context.environment.trafficServiceUrl+"/api/events/uplift?"+$Trd_Utils.objectToQueryString(t);return $Trd_Tools.pixel(e,"trd_show_click_"+t.PageTaskId),!0},t.prototype.sendClick=function(t,e){var n={AccountId:this.context.accountId,Cookie:this.context.cid.value,Url:$Trd_Base64.encode(this.context.pageDetails.url),EventType:"RESPONSIVESHOW_TASK_CLICK",RecommendationUnit:"show",PageTaskId:t,Widget:!0},i=this.getTaskById(e,t);i&&(n.TargetUrl=encodeURIComponent(i.cleanPageUrl));var o=this.context.environment.trafficServiceUrl+"/api/events/uplift?"+$Trd_Utils.objectToQueryString(n);return $Trd_Tools.pixel(o,"trd_show_click_"+n.PageTaskId),!0},t.prototype.getTaskById=function(t,e){for(var n=void 0,i=0;i<t.length;i++){var o=t[i];if(o.PageId===e){n=o;break}}return n},t.prototype.CheckVisibleContainer=function(t){if(t){var e=window.getComputedStyle(t);return"0"!==e.width&&"0"!==e.height&&"0"!==e.opacity&&"none"!==e.display&&"hidden"!==e.visibility&&t.offsetHeight+t.offsetWidth+t.getBoundingClientRect().height+t.getBoundingClientRect().width>0}return!1},t}(),$Trd_AceManager=function(){function t(t){this.context=t,this.aceVariantData=[]}return t.prototype.init=function(){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadAceVaiant()];case 1:return null!=(t=e.sent())&&(this.context.variant=t.id,this.AddVariantElementsToPage(t)),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}}))}))},t.prototype.loadAceVaiant=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,r,d=this;return __generator(this,(function(a){switch(a.label){case 0:return t=new URLSearchParams(window.location.search),e=t.get("trd_ace_params"),n=t.get("trd_variant"),e?[4,$Trd_Utils.loadJs(this.context.environment.cdnPath+"/global/lz-string.min.js","trd-lz")]:[3,2];case 1:return a.sent(),i=LZString.decompressFromEncodedURIComponent(e),(o=JSON.parse(i)).config.forEach((function(t){if(t.text)for(;;){var e=t.text.replace(/{{(company_name|industry)(?:;if_empty:([^}]+))?}}/,(function(t,e,n){return n||""}));if(e==t.text)break;t.text=e}})),r={id:o.id||0,name:o.name,config:o.config},[2,Promise.resolve(r)];case 2:return[2,new Promise((function(t,e){var i={AccountId:d.context.accountId,ClientUrl:d.context.pageDetails.url,Variant:n?+n:null,Referral:d.context.pageDetails.reffer?$Trd_Base64.encode(d.context.pageDetails.reffer):""},o=d.context.environment.trafficServiceUrl+"/api/experience/ace-campaign?"+$Trd_Utils.objectToQueryString(i);$Trd_Tools.JSONP(o,(function(e){t(e)}),void 0,(function(t){return e(t)}))}))]}}))}))},t.prototype.AddVariantElementsToPage=function(t){var e;null===(e=t.config)||void 0===e||e.forEach((function(t){var e=null;try{e=document.querySelector(t.cssSelector)}catch(t){}if(e)switch(t.replaceType){case AceVariantElementReplaceType.Text:e.innerHTML=t.text;break;case AceVariantElementReplaceType.Image:e.src=t.link,e.removeAttribute("srcset");break;case AceVariantElementReplaceType.Link:e.innerHTML=t.text,e.href=t.link}}))},t.prototype.sendGaTracking=function(t,e){if(!this.context.accountSettings.googleAnalyticsTrack)return!1;var n="Trendemon Variant "+t;return $Trd_Utils.sendToGoogleAnalytics(n,"variant",e),!0},t}(),$Trd_NApi=function(){function t(){var t=this;this.clientApps=[],window.trd_api=this,this.context=window.$trd_Context,this.context.uuid=new $Trd_CtaClientCookie,this.context.cid=new $Trd_ClientCookie,this.loadPollyills((function(){t.start()}))}return t.prototype.start=function(){var t=this;this.getAccountSettings(this.context.environment,Number(this.context.accountId)).then((function(e){if(e.isActive){t.context.accountSettings=e,t.logger=new $Trd_Logger(t.context),t.flameSystemStatus={ONLINE:"ONLINE",OFFLINE:"OFFLINE",DEMO:"DEMO"},t.context.useSpa=!1,t.initOnce();var n=t.visitor.getTracker();t.context.accountSettings.identify&&!n?(t.context.visitorId="",t.identify().then((function(){return t.load()}))):(n&&(t.context.visitorId=n.vid,t.visitor.setTracker(n,t.context)),t.load())}}))},t.prototype.loadPollyills=function(t){if(Array.prototype.findIndex)t();else{var e=document.createElement("script");e.type="text/javascript",e.async=!0;e.src="https://polyfill.io/v3/polyfill.min.js?features="+encodeURIComponent(["Event","Promise","Promise.prototype.finally","Array.prototype.findIndex","CustomEvent","Array.prototype.forEach","NodeList.prototype.forEach","Object.values","Element.prototype.append","DocumentFragment.prototype.append","DocumentFragment.prototype.prepend","Element.prototype.closest","Element.prototype.prepend","URLSearchParams","URL","Array.from","Array.prototype.find","Array.prototype.includes","String.prototype.includes"].join()),e.id="trd-pollyfills";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n),e.onload=function(){t()}}},t.prototype.goal=function(t){this.pageviewFired?this.events.notifyGoal(t):window.$TRD_goals=(window.$TRD_goals||[]).push(t)},t.prototype.refreshCta=function(t){document.dispatchEvent(new CustomEvent($Trd_TriggersEventsTypes.EV_CTA_FORCE_SHOW,{detail:{ctaIdentity:t}}))},t.prototype.identify=function(){var t=this;return new Promise((function(e,n){t.getIdentity().then((function(n){var i={accountId:t.context.accountId,DomainCookie:t.context.cid.value,fingerPrint:n},o=t.context.environment.trafficServiceUrl+"/api/Identity/me?"+$Trd_Utils.objectToQueryString(i),r=t;$Trd_Tools.JSONP(o,(function(t){t.VisitorUid&&(r.visitor.setTracker({vid:t.VisitorInternalId,vuid:t.VisitorUid},r.context),e(t))}))}))}))},t.prototype.load=function(){this.context.accountSettings.useSpaRegExp.length&&(new RegExp(this.context.accountSettings.useSpaRegExp).test(this.context.pageDetails.url)&&(this.context.useSpa=!0));this.init(),this.context.useSpa&&this.runSpa(),document.dispatchEvent(new Event($Trd_TriggersEventsTypes.EV_TRD_READY))},t.prototype.getAccountSettings=function(t,e){return __awaiter(this,void 0,void 0,(function(){var n,i;return __generator(this,(function(o){return this,n=localStorage.getItem("trd_acc_"+e+"_ts"),i=localStorage.getItem("trd_acc_"+e),n&&(new Date).getTime()-Number(n)<3e5&&i?[2,Promise.resolve(JSON.parse(decodeURIComponent(atob(i))))]:[2,new Promise((function(n,i){$Trd_Tools.JSONP(t.trafficServiceUrl+"/api/settings/"+e,(function(t){localStorage.setItem("trd_acc_"+e+"_ts",(new Date).getTime().toString()),localStorage.setItem("trd_acc_"+e,btoa(encodeURIComponent(JSON.stringify(t)))),n(t)}))}))]}))}))},t.prototype.getIdentity=function(){var t=this;return new Promise((function(e,n){window.IdentityConfig={name:"$Trd_Identity",context:window,enableModule:!1};var i=document.createElement("script");i.type="text/javascript",i.async=!0;var o=window.location.search.includes("td=demo")?"debug":"min";i.src=t.context.environment.cdnPath+"/global/identity."+o+".js",i.id="identity_script";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(i,r),i.onload=function(){var n={excludes:{fonts:!0,enumerateDevices:!0,pixelRatio:!0,doNotTrack:!0,fontsFlash:!0,canvas:!0,audio:!0}};window.requestIdleCallback?window.requestIdleCallback((function(){return __awaiter(t,void 0,void 0,(function(){var t,i,o;return __generator(this,(function(r){switch(r.label){case 0:return[4,$Trd_Identity.getPromise(n)];case 1:return t=r.sent(),i=t.map((function(t){return t.value})),o=$Trd_Identity.x64hash128(i.join(""),31),e(o),[2]}}))}))})):setTimeout((function(){return __awaiter(t,void 0,void 0,(function(){var t,i,o;return __generator(this,(function(r){switch(r.label){case 0:return[4,$Trd_Identity.getPromise(n)];case 1:return t=r.sent(),i=t.map((function(t){return t.value})),o=$Trd_Identity.x64hash128(i.join(""),31),e(o),[2]}}))}))}),200)}}))},t.prototype.initOnce=function(){var t=this;try{this.visitor=new $Trd_Visitor(this.context,this.logger),this.context.pageDetails=this.initPageDetails();var e=$Trd_Tools.cookie.findCookieByName(this.context.cid.name);void 0===e||0===e.length?this.context.cid.value=$Trd_Utils.generateUniqueId():this.context.cid.value=e,$Trd_Tools.cookie.set(this.context.cid.name,this.context.cid.value,{expires:this.context.cid.expires,path:"/",domain:this.context.pageDetails.cook_domain}),this.context.i18n=new $Trd_i18n(this.context),this.context.addUtmcodeToUrl=this.addUtmcodeToUrl,this.context.trimTaskTitle=this.trimTaskTitle,this.events=new $Trd_Events(this.context,this.logger),new URLSearchParams(window.location.search).get("trd_ace_params")||this.events.init(),this.context.accountSettings.clientApps&&(this.clientApps=this.context.accountSettings.clientApps.map((function(e){return $TRD_ClientAppFactory.create(e,t.context)})))}catch(t){this.logger.log(t)}return!0},t.prototype.init=function(){var t=this;try{this.newVisitor=new $Trd_Newvisitor(this.context,this.logger),this.context.firstVisitTime=this.newVisitor.gettime(),this.context.ctaUserPageHistoryCook=new $Trd_UserPageHistory_Cook(this.context,this.logger),this.pageviews=new $Trd_Pageview(this.context,this.logger),this.cookieManager=new $Trd_Cookmanager(this.context,this.logger),this.marketingAutomation=new $Trd_MarketingAutomation(this.context,this.logger,this.visitor),this.cookieManager.maCookie.value=this.marketingAutomation.maCookieValue;var e=new URLSearchParams(window.location.search),n=e.get("trd_unit_params"),i=e.get("trd_ace_params"),o=!0,r=this.showWidgetBySystemStatus();if(r&&(this.context.accountSettings.aceSupport||i)&&(this.aceManager||(this.aceManager=new $Trd_AceManager(this.context)),o=!1,this.aceManager.init().then((function(){i||(t.pageviews.notifyPageView(),t.pageviewFired=!0)}))),i)return!0;o&&(this.pageviews.notifyPageView(),this.pageviewFired=!0),setTimeout((function(){t.events.replayGoals()}),200),setTimeout((function(){t.events.handleUnsubmittedLeadForm()}),200),this.context.useSpa&&this.events.initSpa(),this.context.accountSettings.trackUrl&&(this.urlGrabber=new $Trd_UrlGrabber(this.context,this.logger,this.cookieManager,this.visitor)),this.context.accountSettings.trackForms&&(this.formListener=new $Trd_FormListener(this.context,this.logger,this.visitor));var d=setInterval((function(){"complete"===document.readyState&&(clearInterval(d),t.startExperience(t.context,r,n))}),500)}catch(t){this.logger.log(t)}return!0},t.prototype.startExperience=function(t,e,n){e&&(t.accountSettings.ctaCount||n)&&(this.experienceManager?this.experienceManager.init():this.experienceManager=new $Trd_ExperienceManager(this.context))},t.prototype.showWidgetBySystemStatus=function(){switch(this.context.accountSettings.flameStatus){case this.flameSystemStatus.OFFLINE:return!1;case this.flameSystemStatus.ONLINE:return!0;case this.flameSystemStatus.DEMO:return!!(this.context.pageDetails.urlParams.td&&"demo"===this.context.pageDetails.urlParams.td||this.context.pageDetails.urlParams.trd_ace_params)}},t.prototype.addUtmcodeToUrl=function(t,e){return t.map((function(t){return t.cleanPageUrl=t.PageUrl,e&&e.length&&(t.PageUrl.indexOf("?")>=0?t.PageUrl=t.PageUrl+"&"+e:t.PageUrl=t.PageUrl+"?"+e),t}))},t.prototype.trimTaskTitle=function(t,e){return t.map((function(t){return t.Title.length>e-3&&(t.Title=t.Title.slice(0,e)+"..."),t}))},t.prototype.checkIssetShowMainDiv=function(){return!!document.querySelector("#trd-articleslideshow, .trd-articleslideshow")},t.prototype.initPageDetails=function(){var t=window.$TRD_OVERRIDE_PAGE||window.location.toString(),e="";try{e=new URL(t).origin}catch(n){e=t.split("/")[2]}return{url:t,browser:$Trd_Tools.getBrowser(),cook_domain:$Trd_Utils.findDomain(),isMobile:$Trd_Tools.isMobile.is_mobile(),OS:$Trd_Tools.isMobile.getOs(),urlParams:$Trd_Tools.get_urlparams(t),reffer:document.referrer?document.referrer:"",promoUrl:e}},t.prototype.updatePageDetails=function(t,e,n){this.context.pageDetails.url=t,this.context.pageDetails.urlParams=$Trd_Tools.get_urlparams(t),n.length&&(this.context.pageDetails.urlParams.td=n),this.context.pageDetails.reffer=e},t.prototype.createLift=function(t,e,n){return this.lift?(this.lift.init(),this.lift):new $Trd_Lift(t,e,n)},t.prototype.spaHistory=function(t,e,n,i,o,r){},t.prototype.runSpa=function(){var t,e,n,i=this;t=window.history,e=t.pushState,n=t.replaceState,t.pushState=function(n,o,r){return i.spaHistoryChange(r),e.apply(t,arguments)},t.replaceState=function(e,o,r){return r!==window.location.pathname+window.location.search&&i.spaHistoryChange(r),n.apply(t,arguments)}},t.prototype.spaHistoryChange=function(t){var e=t;e.indexOf(this.context.pageDetails.promoUrl)<0&&(e=this.context.pageDetails.promoUrl+e),this.context.pageDetails.url=e,this.context.pageDetails.urlParams=$Trd_Tools.get_urlparams(t),this.context.pageDetails.reffer=window.location.href,this.init()},t}();window.trd_api=window.trd_api||new $Trd_NApi;
